(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{60738:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/                              version 2.36.0
 *
 * This file is part of jQuery Terminal. https://terminal.jcubic.pl
 *
 * Copyright (c) 2010-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under the MIT license
 *
 * Contains:
 *
 * Storage plugin Distributed under the MIT License
 * modified to work from Data URIs that block storage and cookies in Chrome
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/timers/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * jQuery Caret
 * Copyright (c) 2009, Gideon Sireling
 * 3 clause BSD License
 *
 * sprintf.js
 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 * licensed under 3 clause BSD license
 *
 * debounce function from Lodash
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * The MIT License
 *
 * emoji regex v9.0.0 by Mathias Bynens
 * MIT license
 *
 * broken image by Sophia Bai from the Noun Project (CC-BY)
 *
 * Date: Fri, 19 May 2023 12:02:17 +0000
 */!function(en){var er=function(){return er.cache.hasOwnProperty(arguments[0])||(er.cache[arguments[0]]=er.parse(arguments[0])),er.format.call(null,er.cache[arguments[0]],arguments)};er.format=function(en,ei){var ea,es,el,ec,ef,ep,eD,em=1,ed=en.length,eh="",eg=[];for(es=0;es<ed;es++)if("string"===(eh=eo(en[es])))eg.push(en[es]);else if("array"===eh){if((ec=en[es])[2])for(el=0,ea=ei[em];el<ec[2].length;el++){if(!ea.hasOwnProperty(ec[2][el]))throw er('[sprintf] property "%s" does not exist',ec[2][el]);ea=ea[ec[2][el]]}else ea=ec[1]?ei[ec[1]]:ei[em++];if(/[^s]/.test(ec[8])&&"number"!==eo(ea))throw er("[sprintf] expecting number but found %s",eo(ea));switch(ec[8]){case"b":ea=ea.toString(2);break;case"c":ea=String.fromCharCode(ea);break;case"d":ea=parseInt(ea,10);break;case"e":ea=ec[7]?ea.toExponential(ec[7]):ea.toExponential();break;case"f":ea=ec[7]?parseFloat(ea).toFixed(ec[7]):parseFloat(ea);break;case"o":ea=ea.toString(8);break;case"s":ea=(ea=String(ea))&&ec[7]?ea.slice(0,ec[7]):ea;break;case"u":ea>>>=0;break;case"x":ea=ea.toString(16);break;case"X":ea=ea.toString(16).toUpperCase()}ea=/[def]/.test(ec[8])&&ec[3]&&ea>=0?" +"+ea:ea,ep=ec[4]?"0"===ec[4]?"0":ec[4].charAt(1):" ",eD=ec[6]-String(ea).length,ef=ec[6]?eu(ep,eD):"",eg.push(ec[5]?ea+ef:ef+ea)}return eg.join("")},er.cache={},er.parse=function(en){for(var er=en,ei=[],eo=[],eu=0;er;){if(null!==(ei=/^[^\x25]+/.exec(er)))eo.push(ei[0]);else if(null!==(ei=/^\x25{2}/.exec(er)))eo.push("%");else if(null!==(ei=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(er))){if(ei[2]){eu|=1;var ea=[],es=ei[2],el=[];if(null!==(el=/^([a-z_][a-z_\d]*)/i.exec(es)))for(ea.push(el[1]);""!==(es=es.slice(el[0].length));)if(null!==(el=/^\.([a-z_][a-z_\d]*)/i.exec(es)))ea.push(el[1]);else if(null!==(el=/^\[(\d+)\]/.exec(es)))ea.push(el[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";ei[2]=ea}else eu|=2;if(3===eu)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";eo.push(ei)}else throw"[sprintf] huh?";er=er.slice(ei[0].length)}return eo};var ei=function(en,ei,eo){return(eo=ei.slice(0)).splice(0,0,en),er.apply(null,eo)};function eo(en){return Object.prototype.toString.call(en).slice(8,-1).toLowerCase()}function eu(en,er){for(var ei=[];er>0;ei[--er]=en);return ei.join("")}en.sprintf=er,en.vsprintf=ei}(void 0!==__webpack_require__.g?__webpack_require__.g:self||window),function(en,er){var ei;if("undefined"!=typeof window)ei=window;else if("undefined"!=typeof self)ei=self;else if(void 0!==__webpack_require__.g)ei=__webpack_require__.g;else throw Error("Unknow context");void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(er,eo){return en(er,eo,ei),er}).apply(exports,[__webpack_require__(19755),__webpack_require__(71011)]))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($,wcwidth,root,undefined){"use strict";function debug(en){}function DelayQueue(){var en=$.Callbacks(),er=!1;this.resolve=function(){en.fire(),er=!0},this.add=function(ei){er?ei():en.add(ei)}}$.omap=function(en,er){var ei={};return $.each(en,function(eo,eu){ei[eo]=er.call(en,eo,eu)}),ei},$.fn.text_length=function(){return this.map(function(){return $(this).text().length}).get().reduce(function(en,er){return en+er},0)};var localStorage,text_to_clipboard,hash_commands,Clone={clone_object:function(en){var er={};if("object"==typeof en){if($.isArray(en))return this.clone_array(en);if(null===en)return en;for(var ei in en)$.isArray(en[ei])?er[ei]=this.clone_array(en[ei]):"object"==typeof en[ei]?er[ei]=this.clone_object(en[ei]):er[ei]=en[ei]}return er},clone_array:function(en){if(!is_function(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return en.slice(0).map((function(en){return"object"==typeof en?this.clone_object(en):en}).bind(this))}},clone=function(en){return Clone.clone_object(en)};"Map"in root&&!("clear"in Map.prototype)&&(Map.prototype.clear=function(){this.forEach(function(en,er,ei){ei.delete(er)})}),function(){var en=function(){try{return document.cookie.split(";"),!0}catch(en){return!1}},er=function(){try{var en="test",er=window.localStorage;return er.setItem(en,"1"),er.removeItem(en),!0}catch(en){return!1}}();function ei(en,er){var ei;if("string"==typeof en&&"string"==typeof er)return localStorage[en]=er,!0;if("object"==typeof en&&void 0===er){for(ei in en)en.hasOwnProperty(ei)&&(localStorage[ei]=en[ei]);return!0}return!1}function eo(en,er){var ei,eo,eu;if((ei=new Date).setTime(ei.getTime()+31536e6),eo="; expires="+ei.toGMTString(),"string"==typeof en&&"string"==typeof er)return document.cookie=en+"="+er+eo+"; path=/",!0;if("object"==typeof en&&void 0===er){for(eu in en)en.hasOwnProperty(eu)&&(document.cookie=eu+"="+en[eu]+eo+"; path=/");return!0}return!1}function eu(en){return localStorage[en]}function ea(en){var er,ei,eo,eu;for(eo=0,er=en+"=",ei=document.cookie.split(";");eo<ei.length;eo++){for(eu=ei[eo];" "===eu.charAt(0);)eu=eu.slice(1,eu.length);if(0===eu.indexOf(er))return eu.slice(er.length,eu.length)}return null}function es(en){return delete localStorage[en]}function el(en){return eo(en,"",-1)}en()||er?(er&&(localStorage=window.localStorage),$.extend({Storage:{set:er?ei:eo,get:er?eu:ea,remove:er?es:el}})):(localStorage={},$.extend({Storage:{set:ei,get:eu,remove:es}}))}();var debounce=function(){var en="Expected a function";function er(en){var er=typeof en;return null!=en&&("object"==er||"function"==er)}function ei(){return Date.now()}return function(eo,eu,ea){var es,el,ec,ef,ep,eD,em=Math.max,ed=Math.min,eh=0,eg=!1,ev=!1,ey=!0;if("function"!=typeof eo)throw TypeError(en);function eC(en){var er=es,ei=el;return es=el=undefined,eh=en,ef=eo.apply(ei,er)}function e_(en){return eh=en,ep=setTimeout(eE,eu),eg?eC(en):ef}function eb(en){var er=en-eD,ei=en-eh,eo=eu-er;return ev?ed(eo,ec-ei):eo}function eF(en){var er=en-eD,ei=en-eh;return undefined===eD||er>=eu||er<0||ev&&ei>=ec}function eE(){var en=ei();if(eF(en))return ex(en);ep=setTimeout(eE,eb(en))}function ex(en){return(ep=undefined,ey&&es)?eC(en):(es=el=undefined,ef)}function ew(){undefined!==ep&&clearTimeout(ep),eh=0,es=eD=el=ep=undefined}function ek(){return undefined===ep?ef:ex(ei())}function eA(){var en=ei(),er=eF(en);if(es=arguments,el=this,eD=en,er){if(undefined===ep)return e_(eD);if(ev)return ep=setTimeout(eE,eu),eC(eD)}return undefined===ep&&(ep=setTimeout(eE,eu)),ef}return eu=eu||0,er(ea)&&(eg=!!ea.leading,ec=(ev="maxWait"in ea)?em(ea.maxWait||0,eu):ec,ey="trailing"in ea?!!ea.trailing:ey),eA.cancel=ew,eA.flush=ek,eA}}(),jQuery=$;function make_callback_plugin(en){var er=$.extend({init:$.noop,destroy:$.noop,name:"event"},en);return function(en,ei){var eo=0==arguments.length,eu="unbind"===arguments[0];if(!eo&&!eu&&!is_function(en))throw Error('Invalid argument, it need to a function or string "unbind" or no arguments.');eu&&(en=is_function(arguments[1])?arguments[1]:null);var ea="callbacks_"+er.name;return this.each(function(){var es,el=$(this);function ec(en){es.fireWith(el,[en])}eo||eu?(es=el.data(ea),eo?es&&es.fire():(en&&es?(es.remove(en),es.has()||(es=null)):es=null,es||(el.removeData(ea),er.destroy.call(this,ec,ei)))):el.data(ea)?$(this).data(ea).add(en):((es=$.Callbacks()).add(en),el.data(ea,es),er.init.call(this,ec,ei))})}}function jquery_resolve(en){var er=jQuery.Deferred();return er.resolve(en),er.promise()}function unpromise(en,er,ei){if(undefined!==en){if(is_promise(en)){if(is_function(en.catch)&&is_function(ei)&&en.catch(ei),is_function(en.done))return en.done(er);if(is_function(en.then))return en.then(er)}else if(en instanceof Array&&en.filter(function(en){return en&&(is_function(en.done)||is_function(en.then))}).length){var eo=$.when.apply($,en).then(function(){return er([].slice.call(arguments))});return is_function(eo.catch)&&(eo=eo.catch(ei)),eo}return er(en)}}function always(en){return undefined===en||en}(function(en){jQuery.fn.extend({everyTime:function(en,er,ei,eo,eu){return this.each(function(){jQuery.timer.add(this,en,er,ei,eo,eu)})},oneTime:function(en,er,ei){return this.each(function(){jQuery.timer.add(this,en,er,ei,1)})},stopTime:function(en,er){return this.each(function(){jQuery.timer.remove(this,en,er)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(en){if(null==en)return null;var er=this.regex.exec(jQuery.trim(en.toString()));return er[2]?parseInt(er[1],10)*(this.powers[er[2]]||1):en},add:function(en,er,ei,eo,eu,ea){var es=0;if(jQuery.isFunction(ei)&&(eu||(eu=eo),eo=ei,ei=er),!("number"!=typeof(er=jQuery.timer.timeParse(er))||isNaN(er))&&!(er<=0)){eu&&eu.constructor!==Number&&(ea=!!eu,eu=0),eu=eu||0,ea=ea||!1,en.$timers||(en.$timers={}),en.$timers[ei]||(en.$timers[ei]={}),eo.$timerID=eo.$timerID||this.guid++;var el=function(){ea&&el.inProgress||(el.inProgress=!0,(++es>eu&&0!==eu||!1===eo.call(en,es))&&jQuery.timer.remove(en,ei,eo),el.inProgress=!1)};el.$timerID=eo.$timerID,en.$timers[ei][eo.$timerID]||(en.$timers[ei][eo.$timerID]=setInterval(el,er)),this.global[ei]||(this.global[ei]=[]),this.global[ei].push(en)}},remove:function(en,er,ei){var eo,eu=en.$timers;if(eu){if(er){if(eu[er]){if(ei)ei.$timerID&&(clearInterval(eu[er][ei.$timerID]),delete eu[er][ei.$timerID]);else for(var ea in eu[er])eu[er].hasOwnProperty(ea)&&(clearInterval(eu[er][ea]),delete eu[er][ea]);for(eo in eu[er])if(eu[er].hasOwnProperty(eo))break;eo||(eo=null,delete eu[er])}}else for(var es in eu)eu.hasOwnProperty(es)&&this.remove(en,es,ei);for(eo in eu)if(eu.hasOwnProperty(eo))break;eo||(en.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&en(window).one("unload",function(){var en=jQuery.timer.global;for(var er in en)if(en.hasOwnProperty(er))for(var ei=en[er],eo=ei.length;--eo;)jQuery.timer.remove(ei[eo],er)})})(jQuery),function(en){if(String.prototype.split.toString().match(/\[native/)){var er,ei=String.prototype.split,eo=/()??/.exec("")[1]===en;er=function(er,eu,ea){if("[object RegExp]"!==Object.prototype.toString.call(eu))return ei.call(er,eu,ea);var es,el,ec,ef,ep=[],eD=(eu.ignoreCase?"i":"")+(eu.multiline?"m":"")+(eu.extended?"x":"")+(eu.sticky?"y":""),em=0;for(eu=RegExp(eu.source,eD+"g"),er+="",eo||(es=RegExp("^"+eu.source+"$(?!\\s)",eD)),ea=ea===en?4294967295:ea>>>0;(el=eu.exec(er))&&(!((ec=el.index+el[0].length)>em)||(ep.push(er.slice(em,el.index)),!eo&&el.length>1&&el[0].replace(es,function(){for(var er=1;er<arguments.length-2;er++)arguments[er]===en&&(el[er]=en)}),el.length>1&&el.index<er.length&&Array.prototype.push.apply(ep,el.slice(1)),ef=el[0].length,em=ec,!(ep.length>=ea)));)eu.lastIndex===el.index&&eu.lastIndex++;return em===er.length?(ef||!eu.test(""))&&ep.push(""):ep.push(er.slice(em)),ep.length>ea?ep.slice(0,ea):ep},String.prototype.split=function(en,ei){return er(this,en,ei)}}}(),$.fn.caret=function(en){var er=this[0],ei="true"===er.contentEditable;if(0==arguments.length){if(window.getSelection){if(ei){this.is(":focus")||er.focus();var eo=window.getSelection().getRangeAt(0),eu=eo.cloneRange();return eu.selectNodeContents(er),eu.setEnd(eo.endContainer,eo.endOffset),eu.toString().length}return er.selectionStart}if(document.selection){if(er.focus(),ei){var eo=document.selection.createRange(),eu=document.body.createTextRange();return eu.moveToElementText(er),eu.setEndPoint("EndToEnd",eo),eu.text.length}var en=0,ea=er.createTextRange(),eu=document.selection.createRange().duplicate(),es=eu.getBookmark();for(ea.moveToBookmark(es);0!==ea.moveStart("character",-1);)en++;return en}return 0}if(-1===en&&(en=this[ei?"text":"val"]().length),window.getSelection){if(ei){this.is(":focus")||er.focus();var el=window.getSelection();el.collapse(el.focusNode,en)}else er.setSelectionRange(en,en)}else if(document.body.createTextRange){var ea=document.body.createTextRange();ea.moveToElementText(er),ea.moveStart("character",en),ea.collapse(!0),ea.select()}return ei||this.is(":focus")||er.focus(),en},$.fn.resizer=make_callback_plugin({name:"resize",init:function(en,er){var ei,eo=$.extend({prefix:""},er),eu=$(this),ea=!0;if(eu.is("body"))$(window).on("resize.resizer",en);else if(window.ResizeObserver)(ei=new ResizeObserver(function(){ea||en(),ea=!1})).observe(this),eu.data("observer",ei);else{var es=$("<iframe/>").addClass(eo.prefix+"resizer").appendTo(this)[0];$(es.contentWindow).on("resize",en)}},destroy:function(){var en=$(this);if(window.ResizeObserver){var er=en.data("observer");er&&(er.unobserve(this),en.removeData("observer"))}else{var ei=en.find('> iframe[class$="resizer"]');ei.length?($(ei[0].contentWindow).off("resize").remove(),ei.remove()):en.is("body")&&$(window).off("resize.resizer")}}}),$.fn.touch_scroll=make_callback_plugin({name:"touch",init:function(en){var er,ei;$(this).on("touchstart.scroll",function(en){"a"!==(en=en.originalEvent).target.tagName.toLowerCase()&&1===en.touches.length&&(ei=er=en.touches[0])}).on("touchmove.scroll",function(eo){if(eo=eo.originalEvent,er&&1===eo.touches.length){var eu=eo.touches[0];!1===en({origin:er,previous:ei,current:eu})&&eo.preventDefault(),ei=eu}}).on("touchend.scroll",function(){(er||ei)&&(er=ei=null)})},destroy:function(){$(this).off("touchstart.scroll touchmove.scroll touchend.scroll")}}),$.fn.on_load=function(en){var er=$.extend({error:$.noop,load:$.noop,done:$.noop},en),ei=[];return this.find("img,iframe").each(function(){var en=$(this),eo=new $.Deferred;en.on("load",eo.resolve).on("error",function(){er.error(en),eo.reject()}),ei.push(eo)}),er.load(!!ei.length),ei.length?$.when.apply($,ei).then(function(){er.done(!0)}):er.done(!1),this},$.fn.is_fully_in_viewport=function(){function en(en,er){var ei=en.getBoundingClientRect(),eo=er[0].getBoundingClientRect(),eu=ei.top-eo.top,ea=ei.bottom-eo.top,es=er.height();return ea>0&&eu<=es}return root.IntersectionObserver?function(en){var er=this[0],ei=jQuery.Deferred(),eo=new root.IntersectionObserver(function(en){ei.resolve(en[0].isIntersecting&&1===en[0].ratio),eo.unobserve(er)},{root:en[0]});return eo.observe(er),ei.promise()}:function(er){return jquery_resolve(en(this[0],er))}}();var entity_re=/(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,space_re=/\s/,combine_chr_re=/(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,emoji_re=/(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\](?:[^\]\\]*(?:\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[((?:-?[@!gbiuso])*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]\\]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]+)\]?/gi,format_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^(\[\[(?:(?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\])([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)(\])$/i,format_begin_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\]?$/i,self_closing_re=/^(?:\[\[)?[^;]*@[^;]*;/,color_re=/^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\([^)]+\)|hsla?\([^)]+\))$/i,url_re=/(\b(?:file|ftp|https?):\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,url_nf_re=/\b(?![^"\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,email_re=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,url_full_re=/^(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\\\][)])+)$/gi,email_full_re=/^((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_exec_split_re=/(\[\[(?:-?[@!gbiuso])*;[^\]]+\](?:\\[[\]]|[^\]])*\]|\[\[[\s\S]+?\]\])/,format_exec_re=/(\[\[[\s\S]+?\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*'|`(?:[^`\\]|\\(?:\\\\)*`|\\\\)*`)/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,broken_image='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14"><title id="title2">rounded</title><path id="terminal-broken-image" d="m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z" /></svg>',use_broken_image='<svg class="terminal-broken-image" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#terminal-broken-image"/></svg>',animation_supported=function(){if("undefined"==typeof document)return!1;var en=!1,er="Webkit Moz O ms Khtml".split(" "),ei=document.createElement("div");if(ei.style.animationName&&(en=!0),!1===en)for(var eo=0;eo<er.length;eo++){var eu=er[eo]+"AnimationName";if(undefined!==ei.style[eu]){en=!0;break}}return ei=null,en}(),agent=(root.navigator||window.navigator).userAgent,is_IE=/MSIE|Trident/.test(agent)||/rv:11.0/i.test(agent),is_IEMobile=/IEMobile/.test(agent),is_ch_unit_supported=function(){if(is_IE&&!is_IEMobile)return!1;if("undefined"==typeof document)return!0;var en=document.createElement("div");return en.style.width="1ch","1ch"===en.style.width}(),is_css_variables_supported=root.CSS&&root.CSS.supports&&root.CSS.supports("--fake-var",0),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_key_native=function(){return"KeyboardEvent"in root&&"key"in root.KeyboardEvent.prototype&&!!Object.getOwnPropertyDescriptor(root.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/)}(),is_browser=function(){try{return this===window}catch(en){return!1}}(),is_mobile=function(en){var er=!1;return(mobile_re.test(en)||tablet_re.test(en.substr(0,4)))&&(er=!0),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||er}(navigator.userAgent||navigator.vendor||root.opera),ch_unit_bug=!1;function css(en,er,ei){if(en instanceof $.fn.init)en.each(function(){css(this,er,ei)});else if($.isPlainObject(er))Object.keys(er).forEach(function(ei){en.style.setProperty(ei,er[ei])});else{if(void 0===ei)return en.style.getPropertyValue(er);en.style.setProperty(er,ei)}}function style_prop(en,er,ei){var eo=[en+":"+er+"px",en+":calc("+er+"px / var(--pixel-density, 1))"];return ei&&(eo=eo.map(function(en){return en+" !important"})),eo.join(";")}function a11y_hide(en){en.attr({role:"presentation","aria-hidden":"true"})}is_browser&&$(function(){function en(en){return en[0].getBoundingClientRect().width}var er='<span style="font-family: monospace;visibility:hidden;',ei=$(er+'width:1ch;overflow: hidden">&nbsp;</span>');ei.appendTo("body");var eo=$(er+'">&nbsp;</span>').appendTo("body");ch_unit_bug=Math.abs(en(ei)-en(eo))>1e-4,ei.remove(),eo.remove()});var excepctions=[];function alert_exception(en,er){arguments[0]instanceof $.terminal.Exception&&(en=arguments[0].type,er=arguments[0]);var ei=(en?en+": ":"")+exception_message(er);-1===excepctions.indexOf(ei)&&(excepctions.push(ei),setTimeout(function(){throw er},0))}function generate_id(){var en=46656*Math.random()|0,er=46656*Math.random()|0;return(en=("000"+en.toString(36)).slice(-3))+(er=("000"+er.toString(36)).slice(-3))}function scrollbar_event(en,er,ei){ei=ei||1;var eo=er.offset().left;return er.outerWidth()*ei<=en.clientX-eo}function exception_message(en){return"string"==typeof en?en:"string"==typeof en.fileName?en.fileName+": "+en.message:en.message}function Cycle(){var en=[].slice.call(arguments),er=0;$.extend(this,{get:function(){return en},index:function(){return er},rotate:function(ei,eo){if(undefined===eo)eo=er;else if(eo===er)return;return(ei||en.filter(function(en){return void 0!==en}).length)&&en.length?1===en.length?en[0]:(er===en.length-1?er=0:++er,void 0!==en[er])?en[er]:this.rotate(!0,eo):void 0},length:function(){return en.length},remove:function(er){delete en[er]},set:function(ei){for(var eo=en.length;eo--;)if(en[eo]===ei){er=eo;return}this.append(ei),er=en.length-1},front:function(){if(en.length){for(var ei=er,eo=!1;!en[ei];)if(++ei>en.length){if(eo)break;ei=0,eo=!0}return en[ei]}},map:function(er){return en.map(function(en,ei){return void 0!==en?er(en,ei):null}).filter(Boolean)},forEach:function(er){return en.forEach(function(en,ei){void 0!==en&&er(en,ei)})},append:function(er){en.push(er)}})}function Stack(en){var er=is_array(en)?en:en?[en]:[];$.extend(this,{data:function(){return er},map:function(en){return $.map(er,en)},size:function(){return er.length},pop:function(){if(0===er.length)return null;var en=er[er.length-1];return er=er.slice(0,er.length-1),en},push:function(en){return er=er.concat([en]),en},top:function(){return er.length>0?er[er.length-1]:null},clone:function(){return new Stack(er.slice(0))}})}function WorkerCache(en){var er=$.extend({validation:$.noop,action:$.noop,onCache:$.noop},en);this._onCache=er.onCache.bind(this),this._action=er.action.bind(this),this._validation=er.validation.bind(this),"Map"in root&&(this._cache=new Map)}function History(en,er,ei){var eo,eu=!0,ea="";"string"==typeof en&&""!==en&&(ea=en+"_"),ea+="commands";var es=(eo=ei?[]:(eo=$.Storage.get(ea))?JSON.parse(eo):[]).length-1;$.extend(this,{append:function(en){eu&&eo[eo.length-1]!==en&&(eo.push(en),er&&eo.length>er&&(eo=eo.slice(-er)),es=eo.length-1,ei||$.Storage.set(ea,JSON.stringify(eo)))},set:function(en){is_array(en)&&(eo=en,ei||$.Storage.set(ea,JSON.stringify(eo)))},data:function(){return eo},reset:function(){es=eo.length-1},last:function(){return eo[eo.length-1]},end:function(){return es===eo.length-1},position:function(){return es},current:function(){return eo[es]},next:function(){var en=es;if(es<eo.length-1&&++es,en!==es)return eo[es]},previous:function(){var en=es;if(es>0&&--es,en!==es)return eo[es]},clear:function(){eo=[],this.purge()},enabled:function(){return eu},enable:function(){eu=!0},purge:function(){ei||$.Storage.remove(ea)},disable:function(){eu=!1},toggle:function(en){eu=void 0===en?!eu:en}})}function OutputLines(en){this._settings=en,this._lines=[],this._snapshot=[]}function FormatBuffer(en){this._options=en,"Map"in root&&(this._format_cache=new Map),this._output_buffer=[]}function with_prompt(en,er,ei){function eo(en){var ei=$.terminal.escape_brackets("[ERR]> ");er("[[;red;]"+ei+"]"),alert_exception("Prompt",en)}function eu(en){er(en),ea.resolve()}var ea=new $.Deferred;switch(typeof en){case"string":eu(en);break;case"function":try{var es=en.call(ei,function(en){eu(en)});"string"==typeof es&&eu(es),es&&es.then&&es.then(eu).catch(eo)}catch(en){eo(en)}}return ea.promise()}WorkerCache.prototype.validate=function(en){var er=this._validation(en),ei=undefined===er||!0===er;return ei||this._cache.clear(),ei},WorkerCache.prototype.clear=function(){this._cache.clear()},WorkerCache.prototype.get=function(en){var er;return this._cache?this.validate(en)&&this._cache.has(en)?(er=this._cache.get(en),this._onCache({cache:er}),er):(er=this._action(en),this._cache.set(en,er),er):this._action(en)},OutputLines.prototype.make_snapshot=function(en){this._snapshot.push(en)},OutputLines.prototype.get_partial=function(){return this._snapshot[this._snapshot.length-1]},OutputLines.prototype.update_snapshot=function(en,er){this._snapshot[en]=er},OutputLines.prototype.limit_snapshot=function(en){this._snapshot=this._snapshot.slice(en)},OutputLines.prototype.clear_snapshot=function(){this._snapshot=[]},OutputLines.prototype.get_snapshot=function(){return this._snapshot.reduce(function(en,er){return en.concat(er)},[]).join("\n")},OutputLines.prototype.join=function(){var en=[].slice.call(arguments);return en.some(is_function)?function(){return en.reduce(function(en,er){return(is_function(en)&&(en=en()),is_function(er)&&(er=er()),is_promise(en)||is_promise(er))?$.when(en,er).then(function(en,er){return en+er}):er})}:en.some(is_promise)?en.reduce(function(en,er){return $.when(en,er).then(function(en,er){return en+er})}):en.join("")},OutputLines.prototype.import=function(en){this._lines=en},OutputLines.prototype.push=function(en){var er=en[0],ei=en[1];if(this.has_newline())this._lines.push(en);else{var eo=this.last_line();eo[0]=this.join(eo[0],er),eo[1].newline=ei.newline}},OutputLines.prototype.clear=function(en){this._lines.forEach(function(er,ei){var eo=er[1];is_function(eo.onClear)&&eo.onClear.call(self,en(ei))}),this._lines=[],this._snapshot=[]},OutputLines.prototype.data=function(){return this._lines},OutputLines.prototype.has_newline=function(){return 0===this._lines.length||this.last_line()[1].newline},OutputLines.prototype.unmount=function(en){var er=en.data("index"),ei=this._lines[er];if(ei){var eo=ei[1];is_function(eo.unmount)&&eo.unmount.call(self,en)}},OutputLines.prototype.last_line=function(){var en=this._lines.length;return this._lines[en-1]},OutputLines.prototype.update=function(en,er,ei){if(null!==er)return this._lines[en][0]=er,ei&&(this._lines[en][1]=$.extend(this._lines[en][1],ei)),this._lines[en][1];this._lines.splice(en,1)},OutputLines.prototype.length=function(){return this._lines.length},OutputLines.prototype.valid_index=function(en){return!!this._lines[en]},OutputLines.prototype.render=function(en,er){var ei=this._settings(),eo=[];if(this._snapshot=[],ei.outputLimit>=0){eu=0===ei.outputLimit?en:ei.outputLimit,this._lines.forEach(function(en,er){var ei=en[0],eu=en[1];eo.push({value:ei,index:er,options:eu})});var eu,ea=eo.length-eu-1;eo=eo.slice(ea)}else eo=this._lines.map(function(en,er){return{value:en[0],index:er,options:en[1]}});return er(eo)},FormatBuffer.NEW_LINE=1,FormatBuffer.prototype.format=function(en,er,ei){var eo=this._format_cache&&this._settings.useCache;if(eo){var eu=JSON.stringify([en,this._settings]);if(this._format_cache.has(eu))return this._format_cache.get(eu)}var ea={line:$.terminal.format(en,this._settings),raw:ei,newline:er};return eo&&this._format_cache.set(eu,ea),ea},FormatBuffer.prototype.empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.append=function(en,er,ei,eo){if(this._settings=$.extend({useCache:!0},this._options(ei)),this._output_buffer.push(FormatBuffer.NEW_LINE),en instanceof Array)for(var eu=eo.split("\n"),ea=0,es=en.length;ea<es;++ea)if(""===en[ea]||"\r"===en[ea])this._output_buffer.push({line:"",raw:""});else{var el=this.format(en[ea],ea===es-1,eu[ea]);this._output_buffer.push(el)}else ei.raw?this._output_buffer.push({line:en,raw:eo}):this._output_buffer.push(this.format(en,!1,eo));this._output_buffer.push({finalize:ei.finalize,index:er,raw:ei.raw,newline:ei.newline})},FormatBuffer.prototype.clear_cache=function(){this._format_cache&&this._format_cache.clear()},FormatBuffer.prototype.output=function(){return this._output_buffer.slice()},FormatBuffer.prototype.is_empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.clear=function(){this._output_buffer=[]},FormatBuffer.prototype.forEach=function(en){for(var er=0;er<this._output_buffer.length;){var ei=this._output_buffer[er++];ei===FormatBuffer.NEW_LINE?en():en(ei)}},FormatBuffer.prototype.flush=function(en){this.forEach(en),this.clear()};var cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,inputStyle:"textarea",mobileDelete:is_mobile,onPaste:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,mobileIngoreAutoSpace:[],repeatTimeoutKeys:[],tabindex:1,tabs:4}},$.fn.cmd=function(en){var er,ei,eo,eu,ea,es,el,ec,ef,ep,eD,em,ed,eh,eg,ev,ey,eC,e_,eb,eF=$.extend({},$.cmd.defaults,en);function eE(en){return eF.mobileIngoreAutoSpace.length&&-1!==eF.mobileIngoreAutoSpace.indexOf(en)&&is_android}var ex=this,ew=ex.data("cmd");if(ew)return ew;var ek=cmd_index++;ex.addClass("cmd");var eA=$('<div class="cmd-wrapper"/>').appendTo(ex);eA.append('<span class="cmd-prompt"></span>'),eA.append('<div class="cmd-cursor-line"><span></span><span class="cmd-cursor"><span data-text class="end"><span>&nbsp;</span></span></span><span></span></div>');var eB=eA.find(".cmd-cursor-line");a11y_hide(eB),is_mobile?(er=function(){var en,er=$('<div class="cmd-editable" contenteditable/>').attr({autocapitalize:"off",autocorrect:"off",spellcheck:"false",tabindex:eF.tabindex}).insertAfter(ex);er.on("focus",function(){ex.enable()}).on("blur",function(){ex.disable()});var ei={$node:er,val:function(en){if(void 0===en)return er.text();er.html(en)},reset:function(){clearTimeout(en),en=setTimeout(function(){er.css({top:"",bottom:""})},100)},focus:function(){css(er[0],{top:"calc(var(--terminal-scroll, 0) * 1px)"}),ei.reset()},blur:function(){er.css({top:"100%",bottom:0}).blur(),window.getSelection().removeAllRanges(),ei.reset()}};return ei}(),ex.addClass("cmd-mobile")):(er=function(){var en=generate_id(),er=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",id:en,tabindex:eF.tabindex}).addClass("cmd-clipboard").appendTo(ex);return er.before('<label class="visually-hidden" for="'+en+'">Clipboard textarea for jQuery Terminal</label>'),{$node:er,val:function(en){return void 0===en?er.val():er.val(en)}}}()).val(" "),eF.width&&ex.width(eF.width);var eT=0,eS=ex.find(".cmd-prompt"),eR=!1,eO="",ej=null,eL="",eI="",ez=0,eP=0,e$=ex.find(".cmd-cursor"),eN=0,eM="ï¿¿",eH=/\uFFFF$/,eW=/^\uFFFF$/;function eU(en){var er=$(en.target);if(er.is("span,img,a"))return(er=er.closest("[data-text]")).index()+er.parent("span").prevAll().find("[data-text]").length+er.closest('[role="presentation"]').prevUntil(".cmd-prompt").find("[data-text]").length;if(er.is('div[role="presentation"]')){var ei=!er.next().length;return er.find("[data-text]").length+er.prevUntil(".cmd-prompt").find("[data-text]").length-(ei?0:1)}}var eq={SPACEBAR:" ",UP:"ArrowUP",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",DEL:"Delete",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"};function eK(en){var er=en.key.toUpperCase();return eq[er]?eq[er]:er}function eJ(en){if(en.key){var er=eK(en).toUpperCase();if("CONTROL"===er)return"CTRL";var ei=[];return en.ctrlKey&&ei.push("CTRL"),en.metaKey&&"META"!==er&&ei.push("META"),en.shiftKey&&"SHIFT"!==er&&ei.push("SHIFT"),en.altKey&&"ALT"!==er&&ei.push("ALT"),ei.length&&" "===er&&(er="SPACEBAR"),en.key&&ei.push(er),ei.join("+")}}var eY={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(ev=1;ev<25;ev++)eY[111+ev]="F"+ev;var eV="";for(ev=65;ev<91;ev++)eV=String.fromCharCode(ev),eY[ev]=[eV.toLowerCase(),eV.toUpperCase()];var eG={};Object.keys(eY).forEach(function(en){is_array(eY[en])?eY[en].forEach(function(er){eG[er.toUpperCase()]=en}):eG[eY[en].toUpperCase()]=en});var eX={"ALT+D":eZ({clipboard:!0}),"HOLD+ALT+D":eZ({clipboard:!0,hold:!0}),"HOLD+DELETE":eZ({clipboard:!1,hold:!0}),"HOLD+SHIFT+DELETE":eZ({clipboard:!1,hold:!0}),ENTER:function(){ed&&eL&&!eF.mask&&(is_function(eF.historyFilter)&&eF.historyFilter(eL)||eF.historyFilter instanceof RegExp&&eL.match(eF.historyFilter)||!eF.historyFilter)&&ed.append(eL);var en,ei=eL;return er.$node.blur(),ed.reset(),tU="",t$=!0,eF.commands&&(en=eF.commands.call(ex,ei)),is_function(ep)&&(en&&is_function(en.then)?en.then(tT):tT()),ex.set(""),er.val(""),er.$node.focus(),!1},"SHIFT+ENTER":function(){return ex.insert("\n"),!0},BACKSPACE:tn,"SHIFT+BACKSPACE":tn,TAB:function(){ex.insert("	")},"CTRL+D":function(){return ex.delete(1),!1},DELETE:function(){return ex.delete(1),!0},"HOLD+ARROWUP":e4,ARROWUP:e4,"CTRL+ARROWUP":e3,"CTRL+P":e3,ARROWDOWN:e5,"HOLD+ARROWDOWN":e5,"CTRL+N":e8,"CTRL+ARROWDOWN":e8,ARROWLEFT:tr,"HOLD+ARROWLEFT":debounce(tr,10),"CTRL+B":tr,"CTRL+ARROWLEFT":function(){var en=ez-1,er=0;" "===eL[en]&&--en;for(var ei=en;ei>0;--ei){if(" "===eL[ei]&&" "!==eL[ei+1]){er=ei+1;break}if("\n"===eL[ei]&&"\n"!==eL[ei+1]){er=ei;break}}ex.position(er)},"CTRL+R":function(){return eR?tm(!0):(ec=ep,tp(),ef=eL,ex.set(""),tk(),eR=!0),!1},"CTRL+G":function(){if(eR)return ep=ec,tT(),ex.set(ef),tk(),eR=!1,eO="",!1},ARROWRIGHT:ti,"HOLD+ARROWRIGHT":debounce(ti,10),"CTRL+F":ti,"CTRL+ARROWRIGHT":function(){" "===eL[ez]&&++ez;var en=/\S[\n\s]{2,}|[\n\s]+\S?/,er=eL.slice(ez).match(en);!er||er[0].match(/^\s+$/)?ex.position(bare_text(eL).length):" "!==er[0][0]?ez+=er.index+1:(ez+=er.index+er[0].length-1," "!==er[0][er[0].length-1]&&--ez),tk()},F12:e0,END:tu(!0),"CTRL+END":tu(),"CTRL+E":tu(),HOME:to(!0),"CTRL+HOME":to(),"CTRL+A":to(),"SHIFT+INSERT":e1,"CTRL+SHIFT+T":e0,"CTRL+W":eQ({clipboard:!0,hold:!1}),"HOLD+BACKSPACE":eQ({clipboard:!1,hold:!0}),"HOLD+SHIFT+BACKSPACE":eQ({clipboard:!1,hold:!0}),"CTRL+H":function(){return""!==eL&&ez>0&&ex.delete(-1),!1},"CTRL+X":e0,"CTRL+C":function(){return""===get_selected_html()},"CTRL+T":e0,"CTRL+Y":function(){""!==eI&&ex.insert(eI)},"CTRL+V":e1,"META+V":e1,"CTRL+K":function(){var en=text(eL).length;return en>ez&&(eI=ex.delete(en-ez),text_to_clipboard(er.$node,eI)),!1},"CTRL+U":function(){return""!==eL&&0!==ez&&(eI=ex.delete(-ez),text_to_clipboard(er.$node,eI)),!1},"CTRL+TAB":function(){return!1},"META+`":e0,"META+R":e0,"META+L":e0};function eZ(en){return(en=en||{}).hold&&!eF.mobileDelete?function(){return ex.delete(1),!1}:function(){var ei=/ *[^ ]+ *(?= )|[^ ]+$/,eo=eL.slice(ez).match(ei);return eo&&(eI=eo[0],en.clipboard&&text_to_clipboard(er.$node,eI)),ex.set(eL.slice(0,ez)+eL.slice(ez).replace(ei,""),!0),!1}}function eQ(en){return(en=en||{}).hold&&!eF.mobileDelete?function(){ex.delete(-1)}:function(){if(""!==eL&&0!==ez){var ei=eL.slice(0,ez).match(/([^ ]* *$)/);ei[0].length&&(eI=ex.delete(-ei[0].length),en.clipboard&&text_to_clipboard(er.$node,eI))}return!1}}function e0(){return!0}function e1(){return er.val(""),eN=0,ex.isenabled()&&!er.$node.is(":focus")&&er.$node.trigger("focus",[!0]),er.$node.one("input",e2),!0}function e2(){function en(){er.val(eL),tl()}function ei(er){ex.insert(er),en()}!(eN++>0)&&ex.isenabled()&&ex.oneTime(100,function(){var eo=er.val().replace(/\r/g,"");if(is_function(eF.onPaste)){var eu=eF.onPaste.call(ex,{target:ex,text:eo});if(undefined!==eu){eu&&is_function(eu.then||eu.done)?(eu.then||eu.done).call(eu,ei):"string"==typeof eu?ei(eu):!1===eu&&en();return}}ei(eo)})}function e3(){return tO?(ef=eL,ex.set(ed.current())):ex.set(ed.previous()),tO=!1,!1}function e8(){return ed.end()?(tO=!0,ex.set(ef)):ex.set(ed.next()),!1}function e6(en){return en.match(/\n/)}function e7(en,er){var eo=en.split("\n").map(function(en){return $.terminal.length(en)});return er&&(eo[0]+=er),!!eo.filter(function(en){return en>=ei}).length}function e9(en){var er=eu,eo=$.terminal.split_equal(er+en,ei),ea=RegExp("^"+$.terminal.escape_regex(er));return(eo=eo.map($.terminal.unescape_brackets))[0]=eo[0].replace(ea,""),eo}function e4(){var en=$.terminal.substring(eL,0,ez),er=ex.column(),ei=ex.find(".cmd-cursor-line"),eo=ei.prevUntil("span").length;if(1===eo&&er<=el)return ex.position(0),!1;if(0===eo||!(e6(en)||e7(en,el)))return e3();var eu,ea=ei.prev(),es=ea.is(".cmd-end-line"),ec=e9(eL);return ea=ec[eo-1],ec[eo].substring(er).length>0?(eu=er,eo-1==0&&(eu-=el),eu=er+ea.substring(eu).length,es&&++eu):eu=er+1,ex.position(-eu,!0),!1}function e5(){var en=$.terminal.substring(eL,ez);if(!(e6(en)||e7(en)))return e8();var er,ei=e9(eL),eo=ex.column(),eu=ex.find(".cmd-cursor-line"),ea=eu.prevUntil("span").length,es=eu.is(".cmd-end-line"),ec=eu.next().is(".cmd-end-line"),ef=ei[ea+1];if(!ef)return e8();var ep=ei[ea].substring(eo).length;return 0===ep?(er=ef.length,ec&&er++):(er=Math.min(eo,ef.length)+ep,0===ea&&(er+=el),es&&(er+=1)),ex.position(er,!0),!1}function tn(){eR?(eO=eO.slice(0,-1),tp()):""!==eL&&ez>0&&ex.delete(-1),ex.oneTime(1,function(){t$=!0})}function tr(){ez>0&&ex.position(-1,!0)}function ti(){return ez<bare_text(eL).length&&ex.position(1,!0),!1}function to(en){function er(){ex.position(0)}return en?function(){if(eL.match(/\n/)){var en=eL.substring(0,ex.position());ex.position(en.lastIndexOf("\n")+1)}else er()}:er}function tu(en){function er(){ex.position(text(eL).length)}return en?function(){if(eL.match(/\n/)){for(var en=eL.split("\n"),ei=ex.position(),eo=0,eu=0;eu<en.length;++eu)if((eo+=en[eu].length)>ei){ex.position(eo+eu);return}}er()}:er}function ta(){var en=er.$node,ei=en.is(":focus");eD?ex.oneTime(10,function(){!en.is(":focus")&&eD&&en.trigger("focus",[!0])}):ei&&!eD&&en.trigger("blur",[!0])}function ts(){if(animation_supported){var en=window.getComputedStyle(e$[0]).getPropertyValue("--animation");en=en.replace(/^\s*|\s*$/g,"");var er=ex.attr("class");if(er.match(/-animation/)&&(er=er.replace(/[a-z]+-animation/g,"")),en&&!en.match(/blink/)){var ei=en.replace(/terminal-/,"")+"-animation";er.match(ei)||(er+=" "+ei)}(er=er.replace(/\s+/g," "))!==ex.attr("class").replace(/\s+/g," ")&&ex.attr("class",er)}}function tl(en){ex.isenabled()&&ex.oneTime(10,function(){is_mobile||er.val()===eL||en||er.val(" "+eL),eD&&ex.oneTime(10,function(){try{var en=is_mobile?ez:ez+1;er.$node.caret()!==en&&er.$node.caret(en)}catch(en){}})})}if(animation_supported&&!is_android)eh=function(en){en?e$.addClass("cmd-blink"):e$.removeClass("cmd-blink")},eg=function(){var en=e$.clone();en.insertBefore(e$),e$.remove(),e$=en};else{var tc=!1;eh=function(en){en&&!tc?(tc=!0,e$.addClass("cmd-inverted cmd-blink"),ex.everyTime(500,"blink",tf)):tc&&!en&&(tc=!1,ex.stopTime("blink",tf),e$.removeClass("cmd-inverted cmd-blink"))},eg=function(){eh(!1),eh(!0)}}function tf(){e$.toggleClass("cmd-inverted")}function tp(){ep="(reverse-i-search)`"+eO+"': ",tT()}function tD(){ep=ec,eR=!1,ej=null,eO=""}function tm(en){var er,ei,eo=ed.data(),eu=eo.length;if(en&&ej>0&&(eu-=ej),eO.length>0)for(var ea=eO.length;ea>0;ea--){ei=$.terminal.escape_regex(eO.slice(0,ea)),er=eF.caseSensitiveSearch?new RegExp(ei):RegExp(ei,"i");for(var es=eu;es--;)if(er.test(eo[es])){ej=eo.length-es,ex.position(eo[es].indexOf(ei)),ex.set(eo[es],!0),tk(),eO.length!==ea&&(eO=eO.slice(0,ea),tp());return}}eO=""}function td(){var en=ex.find(".cmd-prompt"),er=en.html();en.html("<span>&nbsp;</span>");var ei=en.find("span").get(0).getBoundingClientRect().width;return en.html(er),ei}function th(en){return Math.floor(ex.width()/en)}function tg(en){function er(en){return $.terminal.split_equal(en,ei)}function eo(en){var er=[];return en.forEach(function(ei,eo){$.terminal.strip(ei).match(eW)?(er[eo]=!1,eo>0&&(er[eo-1]+=eM)):er[eo]=en[eo]}),er.filter(function(en){return!1!==en})}var eu,ea,es=eS.find(".cmd-line");eu=es.length?es.nextUntil(".cmd-line").text():eS.text(),eu=$.terminal.escape_brackets(eu);var ec=tB(),ef=RegExp("^"+ec+$.terminal.escape_regex(eu));if(en.match(/\n/)){for(var ep=en.split("\n"),eD=ei-el-1,em=0;em<ep.length-1;++em)ep[em]+=eM;for(strlen(ep[0])>eD?((ea=er(eu+ep[0]))[0]=ea[0].replace(ef,""),ea=eo(ea)):ea=[ep[0]],em=1;em<ep.length;++em)if(strlen(ep[em])>ei){var ed=er(ep[em]);em<ep.length-1&&(ed=eo(ed)),ea=ea.concat(ed)}else ea.push(ep[em])}else(ea=er(ec+eu+en,ei))[0]=ea[0].replace(ef,"");return ea.length>1&&$.terminal.length(ea[ea.length-1])===ei&&ea.push(""),ea}var tv=new WorkerCache({validation:function(en){var er=!1;return this._previous_value&&this._previous_value!==en||this._cols&&this._cols!==ei||(er=!0),this._previous_value=en,this._cols=ei,er},action:tg});function ty(en){return tv.get(en)}function tC(en,er){try{en=$.terminal.escape_formatting(en);var ei=$.extend({},eF,{unixFormattingEscapeBrackets:!0,position:ez,command:!0}),eo=$.terminal.apply_formatters(en,ei),eu=$.terminal.normalize(eo[0]),ea=$.terminal.length(eu);return!er&&(eP=eo[1])>ea&&(eP=ea),eu}catch(er){return alert_exception("[Formatting]",er.stack),en}}function t_(en,er){var ei=$.terminal.encode(tb(en),{tabs:eF.tabs,before:er});return $.terminal.format(ei,{charWidth:eF.charWidth,allowedAttributes:eF.allowedAttributes||[]})}function tb(en){return $.terminal.partition(en).join("")}function tF(en,er){return $.terminal.length(en,er)}function tE(en){return strlen(text(en))>ei-el-1||en.match(/\n/)}function tx(en,er,ei){return $.terminal.substring(en,er,ei)}function tw(en){return!!$.terminal.is_formatting(en)&&en.replace(format_parts_re,"$4").match(/^emoji /)}var tk=function(){var en=e$.prev(),ei=e$.next(),eu=e$.parent();function es(er,ea){var es,el=er.match(eH);el&&(er=er.replace(eH," ")),eu.toggleClass("cmd-end-line",!!el);var ef=!1,ep=$.extend({prompt:"",last:!1},ea),eD=ep.position,em=tF(er),ed=ep.prompt;if(eD===em)en.html(t_(er)),es="&nbsp;",ec(),ei.html("");else if(0===eD)en.html(""),es=tx(er,0,1),e$.html(t_(es)),ei.html(t_(tx(er,1),ed+es));else{var eh=$.terminal.substring(er,0,eD);en.html(t_(eh,ed)),es=tx(er,eD,eD+1);var ev=(ed+eh).replace(/^.*\t/,"");e$.html(t_(es,ev)),eD===em-1?(ef=!0,ei.html("")):(es.match(/\t/)?ev="":ev+=es,ei.html(t_(tx(er,eD+1),ev)))}if(ch_unit_bug){if(void 0!==wcwidth){var ey=strlen(text(es));1===ey&&tw(es)&&(ey=2),e$.width(eo*ey)}else e$.width(eo)}e$.toggleClass("cmd-end-line",ef),ts();var eC=$.terminal.length(e$.text());eC>1&&e$.find("[data-text]")[0].style.setProperty("--length",eC),eg()}function el(en,er){var ei=en.match(eH),eo='<div role="presentation" aria-hidden="true"';return ei&&(en=en.replace(eH," "),eo+=' class="cmd-end-line"'),eo+=">"+t_(en,er||"")+"</div>"}function ec(){e$.html('<span data-text class="end"><span>&nbsp;<span></span>')}function ef(en){var er=eu;$.each(en,function(en,ei){er=$(el(ei)).insertAfter(er)})}function ep(en){$.each(en,function(en,er){eu.before(el(er,0===en?ea:""))})}return function(){switch(typeof eF.mask){case"boolean":e_=eF.mask?eL.replace(/./g,"*"):eL;break;case"string":e_=eL.replace(/./g,eF.mask)}var eo=tC(e_);if(eb=tF(eo)===text(e_).length?ez:eP,eA.css({display:"none"}),eA.find("div:not(.cmd-cursor-line)").remove(),en.html(""),tE(eo)){var eD=eo.match(/\t/g),em=eo;eD&&(eo=eo.replace(/\t/g,"\x00\x00\x00\x00"));var ed=ty(eo);eD&&(ed=$.map(ed,function(en){return en.replace(/\x00\x00\x00\x00/g,"	")}));var eh=tF(ed[0]);if(0===eh&&1===ed.length);else if(eb<eh)es(ed[0],{length:ed.length,position:eb,prompt:ea}),ef(ed.slice(1));else if(eb===eh)eu.before(el(ed[0],ea)),es(ed[1]||"",{length:ed.length,position:0,last:ed.length<=2}),ed.length>2&&ef(ed.slice(2));else{var eg=ed.slice(-1)[0],ev=tF(em)-eb,ey=tF(eg),eC=0;if(-1===ev&&(ev=0),ev<=ey)ep(ed.slice(0,-1)),eC=ey===ev?0:ey-ev,es(eg,{length:ed.length,position:eC,last:!0});else{for(eE=0,eC=eb;eE<ed.length;++eE){var e_,eb,eE,ew,ek,eB=$.terminal.length(ed[eE]);if(eC>eB)eC-=eB;else break}if(ek=ed[eE],ew=eE,eC===tF(ek)&&(eC=0,undefined===(ek=ed[++ew])))throw Error($.terminal.defaults.strings.redrawError);es(ek,{length:ed.length,position:eC}),ep(ed.slice(0,ew)),ef(ed.slice(ew+1))}}ex.find(".cmd-cursor-line ~ div:last-of-type").append("<span></span>")}else""===eo?(en.html(""),ec(),ei.html("")):es(eo,{length:1,position:eb});var eT=eu.prevUntil(".cmd-prompt").length;is_css_variables_supported?ex[0].style.setProperty("--cursor-line",eT):er.$node.css("top",14*eT+"px"),eA.css({display:""})}}(),tA=function(){function en(en,er){var ei=$.extend({},eF,{position:er,command:!0});return $.terminal.apply_formatters(en,ei)[1]}function er(er,ei,eo){var eu=en(eo,ei);return eu===er?en(eo,ei+1)>er?0:1:eu<er?1:-1}return function(en,ei){if(0===ei)return 0;var eo=(en=bare_text(en)).length,eu=$.terminal.escape_brackets(eL),ea=binary_search(0,eo,ei,er,[eu]),es=$.terminal.split_characters(en);if(eo>es.length){for(var el=0,ec=0;ec<es.length;++ec)if((el+=es[ec].length)>=ea)return el}return ea}}();function tB(){return eT?Array(eT+1).join("ï¿¿"):""}var tT=function(){function en(en){if(!en)return el=(es=0)+eT,en;var er=tB()+en,eo=$.terminal.split_equal(er,ei);eo=(eo=eo.map(function(en){return en.replace(/^\uFFFF+/,"")}).filter(Boolean)).map(function(en){return $.terminal.have_formatting(en)?$.terminal.format_split(en).map(function(en){return $.terminal.is_formatting(en)?en:"[[;;]"+$.terminal.escape_brackets(en)+"]"}).join(""):"[[;;]"+$.terminal.escape_brackets(en)+"]"});var eu={charWidth:eF.charWidth};ea=eo[eo.length-1];var ec=$.terminal.encode(eo[eo.length-1],{tabs:eF.tabs}),ef=$.terminal.format(ec,eu);return el=(es=strlen(text(ec)))+eT,eo.slice(0,-1).map(function(en){return en=$.terminal.encode(en,{tabs:eF.tabs}),'<span class="cmd-line">'+$.terminal.format(en,eu)+"</span>"}).concat([ef]).join("\n")}function eo(ei){ei&&(ei=$.terminal.apply_formatters(ei,{prompt:!0}),ei=$.terminal.normalize(ei),ei=crlf(ei));var eo=en(ei);if(eu=ei,eo=eo||$.terminal.format("[[;;]â]"),eS.html()!==eo){eS.html(eo);var ea=eS.find("> span span");er.$node.attr("data-cmd-prompt",eS.text()),is_ch_unit_supported&&(eS.hide(),ea.each(function(){var en=$(this),er=strlen(en.text());0===er?en.css("width",1):en.css("width",er+"ch")}),eS.show())}}return function(){eC&&eC.set&&(eC.set=$.noop,eC=null);var en=eC={set:eo};with_prompt(ep,function(er){en.set(er)},ex)}}();function tS(){is_function(eF.onCommandChange)&&eF.onCommandChange.call(ex,eL)}function tR(en,er,eo){var eu=en.substring(0,er);if(0===er||!en.length)return 0;var ea=/\n?([^\n]*)$/,es=eu.match(ea)[1].length;return(!e6(eu)&&(eo||e7(eu,el))&&(es+=el),0===es)?es:0==(es%=ei)?ei:es}$.extend(ex,{option:function(en,er){return void 0===er?eF[en]:(eF[en]=er,ex)},name:function(en){if(undefined===en)return em;em=en;var er=ed&&ed.enabled()||!ed;return ed=new History(em,eF.historySize,"memory"===eF.history),er||ed.disable(),ex},purge:function(){return ed.clear(),ex},history:function(){return ed},delete:function(en,er){var ei,eo;return 0===en?"":(en<0?ez>0&&(ei=eL.slice(0,ez).slice(en),eo=(eo=bare_text(eL)).slice(0,ez+en)+eo.slice(ez,eo.length),er||ex.position(ez+en)):""!==eL&&(eo=text(eL),ez<eo.length&&(ei=eo.slice(ez).slice(0,en),eo=eo.slice(0,ez)+eo.slice(ez+en,eo.length))),ei&&(eL=eo),tk(),tl(),tS(),ei)},set:function(en,er,ei){return undefined===en||(eL=en,er||ex.position(bare_text(eL).length),tk(),tl(),ei||tS()),ex},keymap:function(en,er){function ei(en,er){var ei=eX[en];return is_function(ei)&&(ei=ei.bind(ex)),function(en){return er.call(ex,en,ei)}}if(null===en)return ey=eX,ex;if(void 0===en)return ey;if("string"!=typeof en)return ey=$.extend({},ey||eX,$.omap(en||{},ei)),ex;if(void 0===er){if(ey[en])return ey[en];if(eX[en])return eX[en]}else ey[en]=ei(en,er)},insert:function(en,er){var ei=bare_text(eL),eo=bare_text(en).length;return ez===ei.length?en=ei+en:0===ez?en+=ei:en=ei.slice(0,ez)+en+ei.slice(ez),eL=en,er||ex.position(eo,!0,!0),tl(),tk(),tS(),ex},get:function(){return eL},commands:function(en){return en?(eF.commands=en,ex):en},destroy:function(){return tZ.unbind("keypress.cmd",tQ),tZ.unbind("keydown.cmd",tG),tZ.unbind("input.cmd",t3),ex.stopTime("blink",tf),ex.find(".cmd-wrapper").remove(),ex.find(".cmd-prompt, .cmd-clipboard, .cmd-editable").remove(),ex.removeClass("cmd").removeData("cmd").off(".cmd"),ex},display_column:function(en){var er=tC(eL);return er=$.terminal.strip(er),tR(er,eP,en)},column:function(en){return tR(eL,ez,en)},line:function(){var en=eL.substring(0,ez);return 0!==ez&&eL.length?en.split(/\n/).length-1:0},__set_prompt_margin:function(en){el=es+(eT=en)},prompt:function(en){if(!0===en)return eu;if(undefined===en)return ep;var er=en!==ep;if("string"==typeof en||"function"==typeof en)ep=en;else throw Error("prompt must be a function or string");return er&&(tT(),tk()),ex},kill_text:function(){return eI},position:function(en,er,ei){if("number"!=typeof en)return ez;var eo=ez,eu=bare_text(eL).length;return er?ez+=en:ez=en<0?0:en>eu?eu:en,eo!==ez&&(tk(),!ei&&is_function(eF.onPositionChange)&&eF.onPositionChange(ez,eP),tl(!0)),ex},refresh:function(){return tT(),tk(),tl(!0),ex},display_position:function(en,er){if(undefined===en)return eP;var ei,eo=tC($.terminal.escape_formatting(eL),!0),eu=tF(eo),ea=bare_text(eL).length;if(ei=er?eP+en:en>eu?eu:en,eu===ea)return eP=ei,ex.position(ei);if(eu===ei)return eP=ei,ex.position(ea);var es=tA(eL,ei);return -1!==es&&(eP=ei,ex.position(es)),ex},visible:function(){var en=ex.visible;return function(){return en.apply(ex,[]),tk(),tT(),ex}}(),show:function(){var en=ex.show;return function(){return en.apply(ex,[]),tk(),tT(),ex}}(),resize:function(en){var er;return eo=td(),(ei!==(er="number"==typeof en?en:th(eo))||!0===arguments[0])&&(ei=er,tk(),tT()),ex},clear_cache:"Map"in root?function(){tv.clear()}:function(){return ex},invoke_key:function(en){eD||warn('invoke_key("'+en+'") called on disabled terminal');var er=en.toUpperCase().split("+"),ei=er.pop(),eo=-1!==er.indexOf("CTRL"),eu=-1!==er.indexOf("SHIFT"),ea=-1!==er.indexOf("ALT"),es=-1!==er.indexOf("META"),el=$.Event("keydown",{ctrlKey:eo,shiftKey:eu,altKey:ea,metaKey:es,which:eG[ei],key:ei}),ec=$(document.documentElement||window);return ec.trigger(el),(el=$.Event("keypress")).key=ei,el.which=el.keyCode=0,ec.trigger(el),ex},clip:function(){return er},enable:function(en){if(!eD){eD=!0,ex.addClass("enabled");try{er.$node.is(":focus")||er.$node.focus(),er.$node.caret(ez)}catch(en){}eh(!0),!en&&is_function(ep)&&tT(),ts(),tl()}return ta(),ex},isenabled:function(){return eD},disable:function(en){return eD=!1,ex.removeClass("enabled"),eh(!1),en||ta(),ex},mask:function(en){return void 0===en?eF.mask:(eF.mask=en,tk(),ex)}}),ex.name(eF.name||eF.prompt||""),!1!==eF.prompt&&(ep=eF.prompt,tT()),!0===eF.enabled&&ex.enable(),ei=th(eo=td()),eF.history||ed.disable();var tO=!0,tj=!1,tL=!1,tI=!1,tz=!1,tP=!1,t$=!0,tN=!1,tM=!1,tH=!1,tW=!1,tU="";function tq(en){return"BACKSPACE"===en.key.toUpperCase()||8===en.which}function tK(en){return en.key&&1===en.key.length&&!en.ctrlKey}function tJ(en){return -1!==["HOLD+SHIFT+BACKSPACE","HOLD+BACKSPACE"].indexOf(en)&&eF.mobileDelete||-1!==eF.repeatTimeoutKeys.indexOf(en)}function tY(en){return 35===en.which||36===en.which||37===en.which||38===en.which||39===en.which||40===en.which||13===en.which||27===en.which}var tV=!1;function tG(en){en.key,en.fake,en.which,tM="process"===(en.key||"").toLowerCase()||0===en.which,tL=tz&&tI&&!tq(en);try{en.fake||(tI=tK(en),tP="unidentified"===String(en.key).toLowerCase(),tN=tq(en))}catch(en){}if("Unidentified"===en.key){t$=!0;return}en.fake||-1!==["meta","os"].indexOf(en.key.toLowerCase())||(t$=!1),tz=!0,er.$node.off("input",e2);var ei,eo=eJ(en);if(is_function(eF.keydown)&&(en.key=eK(en),undefined!==(ei=eF.keydown.call(ex,en))))return ei||(e_=!0),ei;if(eo!==eb&&tX(),eD||"CTRL+C"===eo&&is_terminal_selected(ex)){if(tH){if(eb=eo,eo="HOLD+"+eo,tW)return;eF.holdRepeatTimeout>0&&tJ(eo)&&(tW=!0,ex.oneTime(eF.holdRepeatTimeout,"delay",function(){tW=!1}))}else ex.oneTime(eF.holdTimeout,"hold",function(){tH=!0}),eb=eo;if(!en.fake&&is_android){if(tV)return tX(),tV=!1,!1;eE(eo)?tV=!0:eE(eb)&&(tV=!1)}if(eg(),e_=-1!==["CTRL+V","META+V"].indexOf(eo),"enter"===eo.toLowerCase()&&(tO=!0),eR&&tY(en))tD(),tT(),27===en.which&&ex.set(""),tk(),13===en.which&&tG.call(this,en);else if(is_function(ey[eo])){if(!0===(ei=ey[eo](en)))return;if(undefined!==ei)return ei}else{if(en.altKey)return;tj=!1;return}}}function tX(){ex.stopTime("hold"),ex.stopTime("delay"),tW=tH=!1}var tZ=$(document.documentElement||window);function tQ(en){if(en.key,en.fake,tX(),en.fake||(tz=!1),(!en.ctrlKey&&!en.metaKey||en.altKey)&&!tj){if(is_function(eF.keypress)&&undefined!==(er=eF.keypress.call(ex,en)))return er||(e_=!0),er;if(eD){if(en.fake)return;if(is_key_native){var er,ei,eo=(ei=en.key).toUpperCase();eq[eo]&&(ei=eq[eo])}if((!ei||tP)&&(ei=String.fromCharCode(en.which)),$.inArray(en.which,[13,0,8])>-1){if(123===en.keyCode)return;return!1}ei&&(!en.ctrlKey||en.ctrlKey&&en.ctrlKey)&&(!(en.altKey&&100===en.which)||en.altKey)&&!tL&&(eR?(eO+=ei,tm(),tp()):1===ei.length&&ex.insert(ei))}}}function t0(en,er,ei){var eo=$.Event(en);eo.which=ei,eo.key=er,eo.fake=!0,tZ.trigger(eo)}ex.keymap(eF.keymap||{});var t1=!1;function t2(){tU=eL,e_=!1,t$=!0}function t3(){var en=er.val();if(is_mobile||(en=en.replace(/^ /,"")),t$||tM||(tz||tL)&&!e_&&(tI||tP)&&!tN){if(en&&en===eL){is_android&&t$&&t0("keydown","Enter",13),t2();return}var ei=ez;if(t$){var eo=tU;tN=eo.slice(0,eo.length-1).length===en.length}if(t1){t1=!1,er.val(eL);return}if(eR)eO=en,tm(),tp();else{var eu=en.slice(ez);if(1===eu.length||tN){var ea,es=get_next_character(eu);eE(es)&&(t1=!0),t$&&(ea=tN?8:eu.toUpperCase().charCodeAt(0),t0("keydown",tN?"Backspace":eu,ea)),tz&&!tN&&t0("keypress",es,eu.charCodeAt(0))}if(tN){tU=eL;return}if(e_){e_=!1;return}ex.set(en)}tN?ex.position(ei-1):ex.position(ei+Math.abs(en.length-tU.length))}t2()}return tZ.bind("keypress.cmd",tQ),tZ.bind("keydown.cmd",tG),tZ.bind("keyup.cmd",tX),tZ.bind("input.cmd",t3),function(){if(is_mobile){$(ex[0]).add(er.$node).on("touchstart.cmd",function(){ex.isenabled()?er.blur():er.focus()}),ex.disable();return}var en=!1,ei=0;ex.on("mousedown.cmd",function(){en=!0}).on("mouseup.cmd",function(er){function eo(){var en=$(er.target);!en.is(".cmd-prompt")&&es&&""===get_selected_html()&&eD&&(en.is(".cmd")?ex.position(text(eL).length):ex.display_position(eU(er))),ei=0}if(0===(eu=undefined===er.originalEvent?er.button:er.originalEvent.button)&&""===get_selected_html()){var eu,ea="click_"+ek;if(1==++ei){var es=en;eD?0===eF.clickTimeout?eo():ex.oneTime(eF.clickTimeout,ea,eo):ei=0}else ex.stopTime(ea),ei=0}en=!1})}(),ex.data("cmd",ex),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")},0),ex};var strlen=function(){return void 0===wcwidth?function(en){return en=en.replace(/\u200B/g,""),$.terminal.length(en)}:wcwidth}();function count_selfclosing_formatting(en){var er=0;if($.terminal.have_formatting(en)){var ei=RegExp(format_parts_re.source,"i");$.terminal.format_split(en).forEach(function(en){if($.terminal.is_formatting(en)){var eo=en.match(ei);eo&&eo[1].match(/@/)&&""===eo[6]&&er++}})}return er}var entities={"&amp;":"&","&lt;":"<","&gt;":">","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&nbsp;":"\xa0","&iexcl;":"\xa1","&cent;":"\xa2","&pound;":"\xa3","&curren;":"\xa4","&yen;":"\xa5","&brvbar;":"\xa6","&sect;":"\xa7","&uml;":"\xa8","&copy;":"\xa9","&ordf;":"\xaa","&laquo;":"\xab","&not;":"\xac","&shy;":"\xad","&reg;":"\xae","&macr;":"\xaf","&deg;":"\xb0","&plusmn;":"\xb1","&sup2;":"\xb2","&sup3;":"\xb3","&acute;":"\xb4","&micro;":"\xb5","&para;":"\xb6","&cedil;":"\xb8","&sup1;":"\xb9","&ordm;":"\xba","&raquo;":"\xbb","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&iquest;":"\xbf","&times;":"\xd7","&divide;":"\xf7","&forall;":"â","&part;":"â","&exist;":"â","&empty;":"â","&nabla;":"â","&isin;":"â","&notin;":"â","&ni;":"â","&prod;":"â","&sum;":"â","&minus;":"â","&lowast;":"â","&radic;":"â","&prop;":"â","&infin;":"â","&ang;":"â ","&and;":"â§","&or;":"â¨","&cap;":"â©","&cup;":"âª","&int;":"â«","&there4;":"â´","&sim;":"â¼","&cong;":"â","&asymp;":"â","&ne;":"â ","&equiv;":"â¡","&le;":"â¤","&ge;":"â¥","&sub;":"â","&sup;":"â","&nsub;":"â","&sube;":"â","&supe;":"â","&oplus;":"â","&otimes;":"â","&perp;":"â¥","&sdot;":"â","&Alpha;":"Î","&Beta;":"Î","&Gamma;":"Î","&Delta;":"Î","&Epsilon;":"Î","&Zeta;":"Î","&Eta;":"Î","&Theta;":"Î","&Iota;":"Î","&Kappa;":"Î","&Lambda;":"Î","&Mu;":"Î","&Nu;":"Î","&Xi;":"Î","&Omicron;":"Î","&Pi;":"Î ","&Rho;":"Î¡","&Sigma;":"Î£","&Tau;":"Î¤","&Upsilon;":"Î¥","&Phi;":"Î¦","&Chi;":"Î§","&Psi;":"Î¨","&Omega;":"Î©","&alpha;":"Î±","&beta;":"Î²","&gamma;":"Î³","&delta;":"Î´","&epsilon;":"Îµ","&zeta;":"Î¶","&eta;":"Î·","&theta;":"Î¸","&iota;":"Î¹","&kappa;":"Îº","&lambda;":"Î»","&mu;":"Î¼","&nu;":"Î½","&xi;":"Î¾","&omicron;":"Î¿","&pi;":"Ï","&rho;":"Ï","&sigmaf;":"Ï","&sigma;":"Ï","&tau;":"Ï","&upsilon;":"Ï","&phi;":"Ï","&chi;":"Ï","&psi;":"Ï","&omega;":"Ï","&thetasym;":"Ï","&upsih;":"Ï","&piv;":"Ï","&OElig;":"Å","&oelig;":"Å","&Scaron;":"Å ","&scaron;":"Å¡","&Yuml;":"Å¸","&fnof;":"Æ","&circ;":"Ë","&tilde;":"Ë","&ensp;":"â","&emsp;":"â","&thinsp;":"â","&zwnj;":"â","&zwj;":"â","&lrm;":"â","&rlm;":"â","&ndash;":"â","&mdash;":"â","&lsquo;":"â","&rsquo;":"â","&sbquo;":"â","&ldquo;":"â","&rdquo;":"â","&bdquo;":"â","&dagger;":"â ","&Dagger;":"â¡","&bull;":"â¢","&hellip;":"â¦","&permil;":"â°","&prime;":"â²","&Prime;":"â³","&lsaquo;":"â¹","&rsaquo;":"âº","&oline;":"â¾","&euro;":"â¬","&trade;":"â¢","&larr;":"â","&uarr;":"â","&rarr;":"â","&darr;":"â","&harr;":"â","&crarr;":"âµ","&lceil;":"â","&rceil;":"â","&lfloor;":"â","&rfloor;":"â","&loz;":"â","&spades;":"â ","&clubs;":"â£","&hearts;":"â¥","&diams;":"â¦"};function render_entities(en){return en.replace(/&#(x?)([0-9]+);/g,function(en,er,ei){return String.fromCharCode(ei=parseInt(ei,er?16:10))}).replace(/(&[^;]+;)/g,function(en,er){return entities[er]||er})}function bare_text(en){return en.match(/&/)?render_entities(safe(en)):en}function text(en){return bare_text($.terminal.strip(en))}function safe(en){return en.match(/[<>&]/)?en.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):en}function crlf(en){return en.replace(/\r/g,"")}function char_len(en){return entity_re.test(en)?1:en.length}function make_re_fn(en){return function(er){var ei=er.match(en);if(starts_with(ei))return ei[1]}}function starts_with(en){return en&&0===en.index}function is_simple_text(en){for(var er=[entity_re,emoji_re,combine_chr_re,astral_symbols_re],ei=0;ei<er.length;++ei)if(er[ei].test(en))return!1;return!0}function make_next_char_fun(en){var er=[];return[entity_re,emoji_re,combine_chr_re].forEach(function(ei){ei.test(en)&&er.push(make_re_fn(ei))}),astral_symbols_re.test(en)&&er.push(function(en){var er=en.match(astral_symbols_re);if(starts_with(er)){var ei=en.match(combine_chr_re);return ei&&1===ei.index?en.slice(0,3):er[1]}}),function(en){for(var ei=0;ei<er.length;++ei){var eo=(0,er[ei])(en);if(eo)return eo}return en[0]}}function get_next_character(en){var er=en.match(entity_re);if(starts_with(er))return er[1];var ei=en.match(combine_chr_re);if(starts_with(ei))return ei[1];var eo=en.match(emoji_re);return starts_with(eo)?eo[1]:255>en.charCodeAt(0)?en[0]:starts_with(en.match(astral_symbols_re))?(ei=en.match(combine_chr_re))&&1===ei.index?en.slice(0,3):en.slice(0,2):en[0]}function normalize_position(en,er){if(0===er)return er;en=$.terminal.strip(en);var ei=$.terminal.split_characters(en).reduce(function(en,ei){if("number"==typeof en)return en;var eo=en.length+char_len(ei);return eo>=er?en.position+1:{position:en.position+1,length:eo}},{position:0,length:0});return"number"==typeof ei?ei:ei.position}function style_to_string(en){return Object.keys(en).map(function(er){return er+":"+en[er]}).join(";")}function escape_html_attr(en){return en.replace(/"/g,"&quot;")}function char_width_object(en,er){var ei={};return 0===en?ei.width="1px":is_ch_unit_supported?ei.width=en+"ch":is_css_variables_supported?ei["--length"]=en:er.charWidth&&(ei.width=er.charWidth*en+"px"),ei}function char_width_prop(en,er){return style_to_string(char_width_object(en,er))}function extra_css(en,er){if(void 0!==wcwidth){var ei=bare_text(en),eo=strlen(ei);if(eo>1&&eo!==$.terminal.length(ei))return char_width_object(eo,er)}}function wide_characters(en,er){if(void 0!==wcwidth){var ei=bare_text(en),eo=$.terminal.split_characters(ei);return 1===eo.length?en:eo.map(function(en){return{len:strlen(en),chr:en}}).reduce(function(en,er){var ei=en[en.length-1];return ei?ei.len!==er.len?en.concat([{sum:er.len,len:er.len,specs:[er]}]):(en.pop(),en.concat([{sum:ei.sum+er.len,len:ei.len,specs:ei.specs.concat(er)}])):[{sum:er.len,specs:[er],len:er.len}]},[]).map(function(en){if(1===en.len)return eu(en);var ei=char_width_prop(en.sum,er);return en.sum!==eo.length&&ei.length?en.specs.length>1?ea(ei,en.specs.map(function(en){return ea(char_width_prop(en.len),en.chr)}).join("")):ea(ei,eu(en)):"<span>"+eu(en)+"</span>"}).join("")}function eu(en){return en.specs.map(function(en){return en.chr}).join("")}function ea(en,er){return'<span style="'+en+'">'+er+"</span>"}return en}function binary_search(en,er,ei,eo,eu){var ea=er-en,es=en+Math.floor(ea/2),el=[ei,es].concat(eu),ec=eo.apply(null,el);return 0===ec?es:ec>0&&ea>1?binary_search(es,er,ei,eo,eu):ec<0&&ea>1?binary_search(en,es,ei,eo,eu):-1}function is_terminal_selected(en){if(is_function(window.getSelection)){var er=window.getSelection();if(er.toString()){var ei=$(er.getRangeAt(0).startContainer.parentNode).closest(".terminal");return ei.length&&(en&&ei.find(".cmd").is(en)||!en)}}}function get_selected_html(){var en="";if(is_function(window.getSelection)){var er=window.getSelection();if(er.rangeCount){for(var ei=document.createElement("div"),eo=0,eu=er.rangeCount;eo<eu;++eo)ei.appendChild(er.getRangeAt(eo).cloneContents());en=ei.innerHTML}}return en}function with_selection(en){var er="",ei=[];if(is_function(window.getSelection)){var eo=window.getSelection();if(eo.rangeCount){for(var eu=document.createElement("div"),ea=0,es=eo.rangeCount;ea<es;++ea){var el=eo.getRangeAt(ea).cloneRange();ei.push(el),eu.appendChild(el.cloneContents())}er=eu.innerHTML}}return en(er),ei.length&&(eo.removeAllRanges(),ei.forEach(function(en){eo.addRange(en)})),""!==er}function process_selected_line(){var en=$(this),er=en.text();return en.hasClass("cmd-end-line")&&(er+="\n"),er}function process_div(en){return $(en).find("> div, > span").map(process_selected_line).get().join("\n").replace(/\n$/,"")}function process_selected_html(en){var er,ei="",eo=$("<div>"+en+"</div>");en.match(/<\/div>/)&&(!(er=eo.find("div[data-index]").map(function(){return process_div(this)}).get().join("\n"))&&en.match(/style="width: 100%;?"/)&&(er=process_div(eo)),ei=er);var eu=eo.find(".cmd-prompt");eu.length&&(ei.length&&(ei+="\n"),ei+=eu.text());var ea=eo.find('[role="presentation"]');return ea.length&&(ei+=ea.map(process_selected_line).get().join("")),!ei.length&&en&&(ei=eo.text()),ei.replace(/\xA0/g," ")}var support_copy=function(){return!!("undefined"!=typeof document&&is_function(document.queryCommandSupported))&&document.queryCommandSupported("copy")}();text_to_clipboard=support_copy?function(en,er){var ei=en.val(),eo=en.is(":focus"),eu=en.caret();if(window.navigator&&window.navigator.clipboard)navigator.clipboard.writeText(er);else if(eo)en.val(er).focus(),en[0].select(),document.execCommand("copy"),en.val(ei),en.caret(eu);else{var ea=$("<textarea/>").css({position:"fixed",top:0,left:0}).appendTo("body");ea.val(er).focus(),ea[0].select(),document.execCommand("copy"),ea.blur(),ea.remove()}return!0}:$.noop;var get_textarea_selection=function(){function en(){return""}if("undefined"==typeof document)return en;var er=document.createElement("textarea"),ei="selectionStart"in er;return(er=null,ei)?function(en){var er=en.selectionEnd-en.selectionStart;return en.value.substr(en.selectionStart,er)}:document.selection?function(){return document.selection.createRange().text()}:en}();function clear_textarea_selection(en){en.selectionStart=en.selectionEnd=0}function common_string(en,er,ei){if(!er.length)return"";for(var eo=string_case(en),eu=[],ea=en.length;ea<er[0].length;++ea){for(var es=!1,el=er[0].charAt(ea),ec=el.toLowerCase(),ef=1;ef<er.length;++ef){es=!0;var ep=er[ef].charAt(ea),eD=ep.toLowerCase();if(el!==ep){if(ei||"mixed"===eo){es=!1;break}if(ec===eD){if("lower"===eo)el=el.toLowerCase();else if("upper"===eo)el=el.toUpperCase();else{es=!1;break}}else{es=!1;break}}}if(es)eu.push(el);else break}return en+eu.join("")}function trigger_terminal_change(en){terminals.forEach(function(er){er.settings().onTerminalChange.call(er,en)})}var select=function(){return root.getSelection?root.getSelection().setBaseAndExtent?function(en,er){root.getSelection().setBaseAndExtent(en,0,er,1)}:function(en,er){var ei=root.getSelection(),eo=document.createRange();eo.setStart(en,0),eo.setEnd(er,er.childNodes.length),ei.removeAllRanges(),ei.addRange(eo)}:$.noop}();function process_command(en,er){var ei=en.trim(),eo=ei.match(command_re)||[];if(!eo.length)return{command:en,name:"",args:[],args_quotes:[],rest:""};var eu=eo.shift(),ea=$.map(eo,function(en){return en.match(/^["']/)?(en=en.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),(en=er(en)).replace(/\x00\x00\x00\x00/g,"\n")):er(en)}),es=$.map(eo,function(en){var er=en.match(/^(['"`]).*\1$/);return er&&er[1]||""}),el=ei.slice(eu.length).trim();return{command:en,name:eu,args:ea,args_quotes:es,rest:el}}$.terminal={version:"2.36.0",date:"Fri, 19 May 2023 12:02:17 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","rebeccapurple"],Cycle:Cycle,History:History,Stack:Stack,valid_color:function(en){return!!en.match(color_re)||-1!==$.inArray(en.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(en){return!!en.match(unclosed_strings_re)},escape_regex:function(en){if("string"==typeof en){var er=/([-\\^$[\]()+{}?*.|])/g;return en.replace(er,"\\$1")}},have_formatting:function(en){return"string"==typeof en&&!!en.match(format_exist_re)},is_formatting:function(en){return"string"==typeof en&&!!en.match(format_full_re)},is_extended_command:function(en){return"string"==typeof en&&en.match(format_exec_re)&&!$.terminal.is_formatting(en)},each_extended_command:function(en,er){var ei=en.split(format_exec_split_re);return $.map(ei,function(en){return $.terminal.is_extended_command(en)?er(en.replace(/^\[\[|\]\]$/g,""))||"":en}).join("")},format_split:function(en){return en.split(format_split_re).filter(Boolean)},tracking_replace:function(en,er,ei,eo){if(!(er instanceof RegExp))throw Error("tracking_replace: Second argument need to be RegExp");function eu(en,er,ei){return en.slice(er,ei)}function ea(en){return $.terminal.strip(en).length}var es,el,ec,ef="",ep=0,eD=eo;for(er.lastIndex=0;es=er.exec(en);){if(er.global){var em=ea(eu(en,0,er.lastIndex));ec=em-ea(es[0])}else em=(ec=es.index)+ea(es[0]);if(ep<ec&&(ef+=eu(en,ep,ec)),ep=em,ef+=el="function"==typeof ei?ei.apply(null,es):ei.replace(/\$(\$|\d)/g,function(en,er){return"$"===er?"$":es[er]}),ec<eo){var ed=ea(el);ed+=count_selfclosing_formatting(el),em<eo?eD=Math.max(0,eD+ed-ea(es[0])):eD+=ed-(eo-ec)}if(!er.global)break}return(ep<ea(en)&&(ef+=eu(en,ep)),en===ef)?[en,eo]:[ef,eD]},iterate_formatting:function(en,er){function ei(en){return" "===en||"	"===en||"\n"===en}function eo(er){return ey&&"&nbsp;"===en.slice(er-6,er)||ei(en[er-1])}function eu(er){return ey?en.slice(er).match(entity_re):null}function ea(er){return"["===en[er]&&"["===en[er+1]}function es(er){return"\\"!==en[er-1]&&"\\"===en[er]&&"]"===en[er+1]}function el(er){return"]"===en[er]||"["===en[er]}function ec(er){return eS&&!eR&&("]"!==en[er]&&!eT||!ev)||e_&&!eC}var ef,ep,eD=make_next_char_fun(en);function em(){var en=eD(eB);return en.length>1&&$.terminal.length(eB)>1?en.length-1:0}function ed(){return eo(eA)&&(eS||eR)&&(-1===eF&&ep!==eA||-1!==eF)}var eh=!1;function eg(){return eh=eA===en.length-1&&!eh||eC&&!!eB.match(/^.]$/)}for(var ev=$.terminal.have_formatting(en),ey=entity_re.test(en),eC="",e_=!1,eb=0,eF=-1,eE=-1,ex=0,ew=0,ek=/(&[^;]+);$/,eA=0;eA<en.length;eA++){var eB=en.slice(eA),eT=!1;(ef=eB.match(format_start_re))?(eC=ef[1],e_=!1):eC?"]"===en[eA]&&(eT=e_,e_?(eC="",e_=!1):e_=!0):e_=!0;var eS=eC&&e_||!eC,eR=ea(eA);ed()&&(eF=eA,eE=eb);var eO=el(eA);if(ew=0,eS){if("&"===en[eA]){if(ef=eu(eA)){eA+=ef[1].length-2;continue}++eb,++ex}else es(eA)?(++eb,++ex,ew=1,eA+=1):(!eO||!ev||e_&&!eC)&&(++eb,++ex)}if(ec(eA)){2===strlen(en[eA])&&ex++;var ej=eD(eB),eL=ej.length;";"===ej&&(ef=en.slice(0,eA+1).match(ek))&&(eL=(ew=ef[1].length)+1);var eI=er({last:eg(),count:eb,index:eA-ew,formatting:eC,length:ex,text:e_,size:eL,space:eF,space_count:eE});if(!1===eI)break;if(eI&&(undefined!==eI.count&&(eb=eI.count),undefined!==eI.length&&(ex=eI.length),undefined!==eI.space&&(ep=eF,eF=eI.space),undefined!==eI.index)){eA=eI.index;continue}}else eA!==en.length-1||eh||er({last:!0,count:eb+1,index:eA,formatting:eC,length:0,text:e_,space:eF});e_&&(eA+=em())}},partition:function(en,er){var ei=$.extend({wrap:!0},er);if(!$.terminal.have_formatting(en))return $.terminal.split_characters(en).map(eu);var eo=[];function eu(en){return en.match(/\\$/)&&(en+="\\"),"[[;;]"+en+"]"}function ea(en){return $.terminal.is_formatting(en)?en.match(/\\]$/)&&(en=en.replace(/\\]/g,"\\\\]")):ei.wrap&&(en=eu(en)),en}return $.terminal.iterate_formatting(en,function(er){if(er.text){var ei=[];er.formatting&&ei.push(er.formatting),ei.push(en.substring(er.index,er.index+er.size)),er.formatting&&ei.push("]"),eo.push(ea(ei.join("")))}}),eo},substring:function(en,er,ei){var eo,eu,ea=$.terminal.split_characters(en);if(!ea.slice(er,ei).length)return"";if(!$.terminal.have_formatting(en))return ea.slice(er,ei).join("");var es=0,el="",ec="",ef=1;return($.terminal.iterate_formatting(en,function(en){er&&en.count===er+1&&(es=en.index,en.formatting&&(el=en.formatting)),ei&&en.count===ei&&(ec=en.formatting,eu=en.index,ef=en.size),en.count===ei+1&&(eo=en.index,en.formatting&&(eo=eu+ef))}),er&&!es)?"":(undefined===eo&&(eo=en.length),en=el+en.slice(es,eo),ec&&(en=en.replace(/(\[\[^\]]+)?\]$/,"")+"]"),en)},normalize:function(en){return en=en.replace(format_re,function(en,er,ei){if(er.match(self_closing_re)&&""===ei)return"[["+er+"] ]";if(""===ei)return"";function eo(en){return en.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}var eu=(er=eo(er)).match(/;/g).length;if(eu>=4){var ea=er.split(/;/);return"[["+ea.slice(0,4).join(";")+";"+(ea.slice(4).join(";")||ei)+"]"+ei+"]"}return 2===eu?eu=";;":3===eu&&(eu=";"),"[["+(er+=eu+eo(ei))+"]"+ei+"]"}),$.terminal.amp(en)},split_equal:function(en,er,ei){"boolean"==typeof ei&&(ei={keepWords:ei});for(var eo=$.extend({trim:!1,keepWords:!1},ei),eu="",ea=[],es=$.terminal.normalize(en).split(/\n/g),el=$.terminal.have_formatting(en),ec=0,ef=es.length;ec<ef;++ec){if(""===es[ec]){ea.push("");continue}var ep,eD=es[ec],em=make_next_char_fun(eD),ed=0,eh=eD.length,eg=/\[\[[^\]]+\](?:[^\][]|\\\])+\]$/.test(eD),ev=/^(&nbsp;|\s)/.test(eD);if(!el&&eh<er){ea.push(eD);continue}$.terminal.iterate_formatting(eD,function(en){var ei;if(en.length>=er||en.last||en.length===er-1&&2===strlen(eD[en.index+1])){var es,el=!1;if(eo.keepWords&&-1!==en.space){var ec=text(eD).substring(en.space_count),ef=strlen(ec=ec.slice(0,er).replace(/\s+$/,""));(space_re.test(ec)||ef<er)&&(el=!0)}var ey=en.index+en.size;if(eg&&(ey+=1),eo.keepWords&&-1!==en.space&&ey!==eh&&el?(ep=eD.slice(ed,en.space),es=en.space-1):(ei=em(eD.slice(en.index)),ep=eD.slice(ed,en.index)+ei,en.last&&eg&&"]"!==ei&&(ep+="]"),es=en.index+ei.length-1),(eo.trim||eo.keepWords)&&(ep=ep.replace(/(&nbsp;|\s)+$/g,""),ev||(ep=ep.replace(/^(&nbsp;|\s)+/g,""))),ed=(es||en.index)+1,eu){var eC=/^[^\]]*\]/.test(ep);ep=eu+ep,eC&&(eu="")}var e_=ep.match(format_re);if(e_){var eb=e_[e_.length-1];"]"!==eb[eb.length-1]?(eu=eb.match(format_begin_re)[1],ep+="]"):format_end_re.test(ep)&&(ep=ep.replace(format_end_re,""),eu=eb.match(format_begin_re)[1])}return ea.push(ep),{index:es,length:0,space:-1}}})}return ea},amp:function(en){return en.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi,"&amp;")},encode:function(en,er){var ei=$.extend({tabs:4,before:""},er);return $.terminal.amp(en).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map(function(en){var er=en.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return(er=er.filter(Boolean)).map(function(en,eo){return en.match(/\t/)?en.replace(/\t([^\t]*)$/,function(en,eu){if(0!==eo&&er[eo-1].match(/\t\]?$/))return Array(ei.tabs+1).join("&nbsp;")+eu;var ea=er.slice(eo-1,eo).join("");ei.before&&eo<=1&&(ea=ei.before+ea);var es=$.terminal.length(ea),el=ei.tabs-es%ei.tabs;return 0===el&&(el=4),Array(el+1).join("&nbsp;")+eu}):en}).join("")}).join("\n")},nested_formatting:function(en){if(!$.terminal.have_formatting(en))return en;var er=[],ei=/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/,eo=/\[\[([^\][]+)\][\s\S]*/,eu=/^\[\[([^;]*);([^;]*);([^\]]*)\]/,ea=3,es=5;function el(en,er,ei){return ei.indexOf(en)===er}function ec(en,er){return(en=ef(en),er)?$.extend(er,en):en}function ef(en){var er={};return en.split(/\s*;\s*/).forEach(function(en){var ei=en.split(":").map(function(en){return en.trim()}),eo=ei[0],eu=ei[1];er[eo]=eu}),er}function ep(en){var er=en.slice();return en[es]&&(er[es]=em(en[es])),en[ea]&&(er[ea]=ed(en[ea])),er[0]=eD(en[0]),er.join(";")}function eD(en){var er=en.filter(function(en){return"-"===en[0]}).map(function(en){return en[1]});return en.filter(function(en){return -1===er.indexOf(en)&&-1===er.indexOf(en[1])}).join("")}function em(en){return JSON.stringify(en,function(en,er){return"style"===en?eh(er):er})}function ed(en){return en.filter(el).join(" ")}function eh(en){return Object.keys(en).map(function(er){return er+":"+en[er]}).join(";")}function eg(en){function er(en){ei[es]||(ei[es]={});try{var er=JSON.parse(en);if(er.style){var eo=er.style,eu=ei[es].style;er.style=ec(eo,eu),ei[es]=$.extend(er,ei[es],{style:ec(eo,eu)})}else ei[es]=$.extend(er,ei[es])}catch(er){warn("Invalid JSON "+en)}}var ei=[[],"",""];if(!en.length)return ei;for(var eo=en.length;eo--;){var eu=$.terminal.parse_formatting(en[eo]);if(eu.length>5){var el=eu.slice(5).join(";");eu=eu.slice(0,5).concat(el)}eu[0].split(/(-?[@!gbiuso])/g).filter(Boolean).forEach(function(en){-1===ei[0].indexOf(en)&&ei[0].push(en)});for(var ef=1;ef<eu.length;++ef){var eD=eu[ef].trim();if(eD){if(ef===ea){ei[ea]||(ei[ea]=[]);var em=eD.split(/\s+/);ei[ea]=ei[ea].concat(em)}else ef===es?er(eD):ei[ef]||(ei[ef]=eD)}}}return ep(ei)}return en.split(ei).filter(Boolean).map(function(en){var ei;if(en.match(/^\[\[/)&&!$.terminal.is_extended_command(en)){var ea=en.replace(eo,"$1"),es=$.terminal.is_formatting(en);en=en.replace(eu,""),er.push(ea),ei=$.terminal.nested_formatting.__inherit__?eg(er):ea,es?er.pop():en+="]",en="[["+ei+"]"+en}else{var el=!1;en.match(/\]/)&&(el=!0),er.length&&(en="[["+(ei=$.terminal.nested_formatting.__inherit__?eg(er):er[er.length-1])+"]"+en),el?er.pop():er.length&&(en+="]")}return en}).join("")},escape_formatting:function(en){return $.terminal.escape_brackets(en)},apply_formatters:function(en,er){if(""===en)return er&&"number"==typeof er.position?["",er.position]:"";function ei(en,er,ei,eo){en.__no_warn__||$.terminal.length(ei)===$.terminal.length(eo)||warn("Your formatter["+er+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}function eo(en){if(!er||!en)return!0;var ei=["echo","command","prompt"];if(!ei.some(function(er){return!0===en[er]}))return!0;for(var eo=ei.length;eo--;){var eu=ei[eo];if(!0===en[eu]&&!0===er[eu])return!0}return!1}var eu,ea=(er=er||{}).formatters||$.terminal.defaults.formatters,es=0;function el(en,eo){var eu=$.extend({},er,{position:eo[1]}),ea=en(eo[0],eu);return"string"==typeof ea?(ei(en,es-1,ea,eo[0]),"string"==typeof ea)?[ea,eu.position]:eo:is_array(ea)&&2===ea.length?ea:eo}eu="number"==typeof er.position?[en,er.position]:[en,0];try{var ec=ea.reduce(function(en,er){if(es++,"function"==typeof er&&er.__meta__)return el(er,en);var ei,eu=0,ea=!1,ec=$.terminal.format_split(en[0]).map(function(ei){var es,ec,ef=text(ei).length;en[1]<eu+ef&&!ea?(es=en[1]-eu,ea=!0):es=ea?-1:en[1];var ep=eu;if(eu+=ef,$.terminal.is_formatting(ei))return ea?[ei,es]:[ei,-1];if(is_array(er)){var eD=er[2]||{};if((ec=[ei,es<0?0:es])[0].match(er[0])&&eo(er[2])){if(eD.loop)for(;ec[0].match(er[0]);)ec=$.terminal.tracking_replace(ec[0],er[0],er[1],ec[1]);else ec=$.terminal.tracking_replace(ec[0],er[0],er[1],ec[1])}if(es<0)return[ec[0],-1]}else"function"==typeof er&&(ec=el(er,[ei,es]));return void 0!==ec?(-1!==ec[1]&&(ec[1]+=ep),text(ec[0]).length,ec):[ei,-1]}),ef=ec.filter(function(en){return -1!==en[1]})[0],ep=ec.map(function(en){return en[0]}).join("");ei=void 0===ef?en[1]:ef[1];var eD=text(ep).length;if(eD+=count_selfclosing_formatting(ep),ei>eD&&(ei=eD),ep===en[0])return en;var em=$.terminal.strip(en[0]),ed=$.terminal.strip(ep);return em===ed?[ep,en[1]]:[ep,ei]},eu);if("number"!=typeof er.position)return ec[0];var ef=$.terminal.strip(ec[0]).length;if($.terminal.length(ec[0])<ef){var ep=ec[1];ep=normalize_position(ec[0],ep);var eD=$.terminal.length(ec[0]);ep>eD&&(ep=eD),ec[1]=ep}return ec}catch(en){var em="Error in formatter ["+(es-1)+"]";throw ea.splice(es-1),new $.terminal.Exception("formatting",em,en.stack)}},escape_brackets:function(en){return en.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\\/g,"&#92;")},unescape_brackets:function(en){return en.replace(/&#91;/g,"[").replace(/&#93;/g,"]").replace(/&#92;/g,"\\")},length:function(en,er){return en?$.terminal.split_characters(er?en:text(en)).length:0},split_characters:function(en){if(is_simple_text(en))return en.split("");for(var er=[],ei=make_next_char_fun(en);en.length;){var eo=ei(en);en=en.slice(eo.length),er.push(eo)}return er},columns:function(en,er,ei){var eo=(en=en.map(function(en){return"string"!=typeof en?String(en):en})).map(function(en){return $.terminal.strip(en)}).map(function(en){return strlen(en)});void 0===ei&&(ei=4);var eu=Math.max.apply(null,eo)+ei,ea=Math.floor(er/eu)-1;if(ea<1)return en.join("\n");for(var es=[],el=0,ec=en.length;el<ec;el+=ea){var ef=en.slice(el,el+ea),ep=ef.pop();es.push(ef.reduce(function(en,er){var ei=$.terminal.strip(er),eo=Array(eu-ei.length+1).join(" ");return en.push(er+eo),en},[]).join("")+ep)}return es.join("\n")},strip:function(en){return $.terminal.have_formatting(en)?$.terminal.format_split(en).map(function(en){return $.terminal.is_formatting(en)?(en=en.replace(format_parts_re,"$6")).replace(/\\([[\]])/g,function(en,er){return er}):en}).join(""):en},active:function(){return terminals.front()},last_id:function(){return terminals.length()-1},parse_argument:function(en,er){function ei(en){return en.split(string_re).map(function(en){if(en.match(/^['"`]/)){if('""'===en||"''"===en||"``"===en)return"";var er=en[0],ei=RegExp("(\\\\\\\\(?:\\\\\\\\)*)"+er,"g");en=en.replace(ei,"$1").replace(/^[`'"]|[`'"]$/g,""),"'"===er&&(en=en.replace(/"/g,'\\"'))}return JSON.parse(en='"'+en+'"')}).join("")}if(!1===er){if("'"===en[0]&&"'"===en[en.length-1])return en.replace(/^'|'$/g,"");if("`"===en[0]&&"`"===en[en.length-1])return en.replace(/^`|`$/g,"");if('"'===en[0]&&'"'===en[en.length-1])return en.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1");if(en.match(/\/.*\/[gimy]*$/))return en;else if(en.match(/['"`]]/))return ei(en);else return en.replace(/\\ /g," ")}if("true"===en)return!0;if("false"===en)return!1;var eo=en.match(re_re);return eo?new RegExp(eo[1],eo[2]):en.match(/['"`]/)?ei(en):en.match(/^-?[0-9]+$/)?parseInt(en,10):en.match(float_re)?parseFloat(en):en.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(en){return $.map(en.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(en){return $.map(en.match(command_re)||[],function(en){return $.terminal.parse_argument(en,!1)})},parse_command:function(en){return process_command(en,$.terminal.parse_argument)},split_command:function(en){return process_command(en,function(en){return $.terminal.parse_argument(en,!1)})},parse_options:function en(er,ei){var eo=$.extend({},{boolean:[]},ei);if("string"==typeof er)return en($.terminal.split_arguments(er),ei);var eu={_:[]};function ea(en){this.value=en}var es=er.reduce(function(en,er){var ei="string"==typeof er?er:"";if(ei.match(/^--?[^-]/)&&en instanceof ea&&(eu[en.value]=!0),ei.match(/^--[^-]/)){var es=ei.replace(/^--/,"");if(-1===eo.boolean.indexOf(es))return new ea(es);eu[es]=!0}else if(ei.match(/^-[^-]/)){var el=ei.replace(/^-/,"").split("");if(-1===eo.boolean.indexOf(el.slice(-1)[0]))var ec=el.pop();if(el.forEach(function(en){eu[en]=!0}),ec)return new ea(ec)}else en instanceof ea?eu[en.value]=er:er&&eu._.push(er);return null},null);return es instanceof ea&&(eu[es.value]=!0),eu},parse_formatting:function(en){var er=$.terminal.unescape_brackets(en).split(";"),ei=4;if(er.length>=5){var eo=$.terminal.escape_brackets(er[ei]);er[ei]=eo}return er},extended_command:function extended_command(term,string,options){var settings=$.extend({invokeMethods:!1},options),deferred=new $.Deferred;try{change_hash=!1;var m=string.match(extended_command_re);if(!m)return term.exec(string,!0).done(function(){change_hash=!0});if(settings.invokeMethods){string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");if(obj[fn]){var ret=obj[fn].apply(term,args);if(ret&&ret.then)return ret}else term.error("Unknow function "+fn);deferred.resolve()}catch(e){term.error("Invalid invocation in "+$.terminal.escape_brackets(string)),deferred.reject()}}else warn("To invoke terminal or cmd methods you need to enable invokeMethods option"),deferred.reject()}catch(e){deferred.reject()}return deferred.promise()},iterator:function(en){function er(en){return $.terminal.is_formatting(en)&&en.match(/\]\\\]/)&&(en=en.replace(/\]\\\]/g,"]\\\\]")),en}if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){var ei=$.terminal.length(en),eo=0,eu={};return eu[Symbol.iterator]=function(){return{next:function(){if(!(eo<ei))return{done:!0};var eu=$.terminal.substring(en,eo,eo+1);return eo++,{value:er(eu)}}}},eu}},formatter:new function(){try{this[Symbol.split]=function(en){return $.terminal.format_split(en)},this[Symbol.match]=function(en){return en.match(format_re)},this[Symbol.replace]=function(en,er){return en.replace(format_parts_re,er)},this[Symbol.search]=function(en){return en.search(format_re)}}catch(en){}},process_formatting:function(en){return $.terminal.format_split(en).map(function(en){if(!$.terminal.is_formatting(en))return["","","",en];for(var er=en.match(RegExp(format_parts_re,"i")),ei=er.pop(),eo=1;eo<=2;++eo)$.terminal.valid_color(er[eo])||(er[eo]="");return er.slice(1,4).concat(ei)})},new_formatter:function(en){for(var er=$.terminal.defaults.formatters,ei=0;ei<er.length;++ei)if(er[ei]===$.terminal.nested_formatting){er.splice(ei,0,en);return}er.push(en)}},function(){function en(en,er){return""===en?er:en.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function er(en){return en.match(/^\.{1,2}\//)||en.match(/^\//)||!(en.match(/\//)||en.match(/^[^:]+:/))}function ei(en,er){return function(ei){if(er.anyLinks)return!0;var eo=en(ei);return eo||warn("Invalid URL "+ei+" only http(s) ftp and path are allowed"),eo}}$.terminal.format=function(eo,eu){var ea=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,allowedAttributes:[],charWidth:undefined,escape:!0,anyLinks:!1},eu||{}),es=ei(function(en){return en.match(/^((https?|file|ftp):\/\/|\.{0,2}\/)/)||er(en)},ea),el=ei(function(en){return en.match(/^(https?:|file:|blob:|data:)/)||er(en)},ea);function ec(en){return en.length&&ea.allowedAttributes.length?en.filter(function(en){if("data-text"===en)return!1;for(var er=!1,ei=ea.allowedAttributes,eo=0;eo<ei.length;++eo)if(ei[eo]instanceof RegExp){if(ei[eo].test(en)){er=!0;break}}else if(ei[eo]===en){er=!0;break}return er}):[]}function ef(en,er){if(er){var ei=ec(Object.keys(er));if(ei.length){var eo=ei.map(function(ei){if(null===er[ei])return"";if(!0===er[ei])return ei;var eo=escape_html_attr(er[ei]);return"style"===ei&&(eo=eo?en+";"+eo:en),ei+'="'+eo+'"'}).filter(Boolean);return eo.length?eo.join(" "):""}}return en?'style="'+en+'"':""}var ep=(function(){var en=["noopener"];return ea.linksNoReferrer&&en.unshift("noreferrer"),ea.linksNoFollow&&en.unshift("nofollow"),en})().join(" ");function eD(en,er,ei){if(en.match(email_re))return'<a href="mailto:'+en+'"';var eo=["<a"];return en&&es(en)&&eo.push('href="'+en+'"'),er?(ei.includes("target")&&undefined===er.target&&(er.target="_blank"),ei.includes("rel")&&undefined===er.rel&&(er.rel=ep)):(eo.push('rel="'+ep+'"'),eo.push('target="_blank"')),eo.join(" ")}function em(en){var er="<img";return el(en)&&(er+=' src="'+en+'"',text&&(er+=' alt="'+text+'"')),er}function ed(er,ei,eo,eu,es,el,ep){var ed,eh,eg=[];if(el.match(/;/))try{var ev=el.split(";"),ey=ev.slice(1).join(";").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">");ey.match(/^\s*\{[^}]*\}\s*$/)&&(ed=JSON.parse(ey),eg=ec(Object.keys(ed)),el=ev[0])}catch(en){}if(""===ep&&!ei.match(/@/))return"";ep=(ep=safe(ep)).replace(/\\\]/g,"&#93;"),ea.escape&&(ep=ep.replace(/\\\\/g,"\\"));var eC={};-1!==ei.indexOf("b")&&(eC["font-weight"]="bold");var e_=[];-1!==ei.indexOf("u")&&e_.push("underline"),-1!==ei.indexOf("s")&&e_.push("line-through"),-1!==ei.indexOf("o")&&e_.push("overline"),e_.length&&(eC["text-decoration"]=e_.join(" ")),-1!==ei.indexOf("i")&&(eC["font-style"]="italic"),$.terminal.valid_color(eo)&&($.extend(eC,{color:eo,"--color":eo,"--original-color":eo}),-1!==ei.indexOf("!")&&(eC["--link-color"]=eo),-1!==ei.indexOf("g")&&(eC["text-shadow"]="0 0 5px "+eo)),$.terminal.valid_color(eu)&&$.extend(eC,{"background-color":eu,"--background":eu});var eb=en(el,ep),eF=extra_css(ep,ea);eF&&(ep=wide_characters(ep,ea),$.extend(eC,eF));var eE=style_to_string(eC);eh=-1!==ei.indexOf("!")?eD(eb,ed,eg):-1!==ei.indexOf("@")?em(eb):"<span";var ex=ef(eE,ed,eg);return ex&&(eh+=" "+ex),""!==es&&(eh+=' class="'+es+'"'),-1!==ei.indexOf("!")?eh+=" data-text>"+ep+"</a>":-1!==ei.indexOf("@")?eh+=" data-text/>":eh+=' data-text="'+eb+'"><span>'+ep+"</span></span>",eh}if("string"!=typeof eo)return"";var eh=$.terminal.format_split(eo);return(eo=$.map(eh,function(er){if(""===er)return er;if($.terminal.is_formatting(er))return(er=er.replace(/\[\[[^\]]+\]/,function(en){return en.replace(/&nbsp;/g," ")})).replace(format_parts_re,ed);var ei,eo=en(er=(er=safe(er)).replace(/\\\]/,"&#93;")),eu=extra_css(er,ea);return eu?(er=wide_characters(er,ea),ei='<span style="'+style_to_string(eu)+'"'):ei="<span",ei+' data-text="'+eo+'">'+er+"</span>"}).join("")).replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}}(),$.terminal.Exception=function(en,er,ei){1==arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=en,this.message=er,ei&&(this.stack=ei))},$.terminal.Exception.prototype=Error(),$.terminal.Exception.prototype.toString=function(){return this.message+"\n"+this.stack},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[];function warn(en){en="[jQuery Terminal] "+en,-1===warnings.indexOf(en)&&(warnings.push(en),console?console.warn?console.warn(en):console.log&&console.log(en):setTimeout(function(){throw Error("WARN: "+en)},0))}var ids={};function terminal_ready(en){return!!(en.closest("body").length&&en.is(":visible")&&en.find(".cmd-prompt").length)}function format_stack_trace(en){return(en=$.terminal.escape_brackets(en)).split(/\n/g).map(function(en){return"[[;;;terminal-error]"+en.replace(url_re,function(en){return"]"+en+"[[;;;terminal-error]"})+"]"}).join("\n")}function get_char_size(en){var er;if(terminal_ready(en)){var ei=en.find(".cmd-prompt").clone().css({visiblity:"hidden",position:"absolute"});ei.appendTo(en.find(".cmd")).html("&nbsp;").wrap('<div class="cmd-wrapper"/>'),er={width:ei.width(),height:ei.height()},ei.parent().remove()}else{var eo=$('<div class="terminal terminal-temp"><div class="terminal-wrapper"><div class="terminal-output"><div><div class="terminal-line" style="float: left"><span>&nbsp;</span></div></div></div><div class="terminal-pixel"></div></div>').appendTo("body");if(eo.addClass(en.attr("class")).attr("id",en.attr("id")),en){var eu=en.attr("style");eu&&(eu=eu.split(/\s*;\s*/).filter(function(en){return!en.match(/display\s*:\s*none/i)}).join(";"),eo.attr("style",eu))}var ea=eo.find(".terminal-line");er={width:ea.width(),height:ea.height()},eo.remove()}return er}function get_num_chars(en,er){return Math.floor(en.find(".terminal-fill").width()/er.width)||1e3}function get_num_rows(en,er){return Math.floor(en.find(".terminal-fill").height()/er.height)}function all(en,er){return en.filter(function(en){return en[er]()===en}).length===en.length}function string_case(en){var er=en.split("");return all(er,"toLowerCase")?"lower":all(er,"toUpperCase")?"upper":"mixed"}function same_case(en){return"mixed"!==string_case(en)}function is_function(en){return"function"===get_type(en)}function is_object(en){return en&&"object"==typeof en}function is_promise(en){return is_object(en)&&is_function(en.then||en.done)}function is_deferred(en){return is_promise(en)&&is_function(en.promise)}function is_array(en){return Array.isArray(en)}function get_type(en){return"function"==typeof en?"function":null===en?en+"":Array.isArray(en)?"array":"object"==typeof en?"object":typeof en}$.jrpc=function(en,er,ei,eo,eu){var ea,es=new $.Deferred;function el(en){return $.isNumeric(en.id)&&(void 0!==en.result||void 0!==en.error)}ids[(ea=$.isPlainObject(en)?en:{url:en,method:er,params:ei,success:eo,error:eu}).url]=ids[ea.url]||0;var ec={jsonrpc:"2.0",method:ea.method,params:ea.params,id:++ids[ea.url]};return $.ajax({url:ea.url,beforeSend:function(en,er){is_function(ea.request)&&ea.request(en,ec),er.data=JSON.stringify(ec)},success:function(en,er,ei){var eo;ei.getResponseHeader("Content-Type").match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");try{eo=JSON.parse(en)}catch(er){if(ea.error)ea.error(ei,"Invalid JSON",er);else throw new $.terminal.Exception("JSON","Invalid JSON",er.stack);es.reject({message:"Invalid JSON",response:en});return}is_function(ea.response)&&ea.response(ei,eo),el(eo)||"system.describe"===ea.method?(ea.success&&ea.success(eo,er,ei),es.resolve(eo)):(ea.error&&ea.error(ei,"Invalid JSON-RPC"),es.reject({message:"Invalid JSON-RPC",response:en}))},error:ea.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),es.promise()},$.rpc=function(en,er,ei){var eo=new $.Deferred;function eu(en){en.error?eo.reject(en.error):eo.resolve(en.result)}function ea(en,er,ei){eo.reject({message:ei})}return $.jrpc(en,er,ei,eu,ea),eo.promise()},Array.isArray||(Array.isArray=function(en){return"[object Array]"===Object.prototype.toString.call(en)});var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2023 Jakub T. Jankiewicz <https://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2023 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__inherit__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,tabindex:1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,mousewheel:null,touchscroll:null,memory:!1,cancelableAjax:!0,processArguments:!0,execAnimation:!1,execAnimationDelay:100,linksNoReferrer:!1,externalPause:!0,useCache:!0,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,mobileDelete:is_mobile,convertLinks:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],unixFormatting:{escapeBrackets:!1,ansiParser:{},ansiArt:!1},onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,repeatTimeoutKeys:[],mobileIngoreAutoSpace:[],request:$.noop,response:$.noop,describe:"procs",onRPCError:null,keymap:null,doubleTab:null,doubleTabEchoCommand:!1,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,renderHandler:null,onAfterRedraw:$.noop,onEchoCommand:$.noop,onPaste:$.noop,onFlush:$.noop,onBeforeCommand:null,onAfterCommand:null,onBeforeEcho:null,onAfterEcho:null,onBeforeLogin:null,onAfterLogout:null,onBeforeLogout:null,onCommandChange:null,onPositionChange:null,allowedAttributes:["title","target","rel",/^aria-/,"id",/^data-/],strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong username or password try again!",wrongPassword:"Wrong username or password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveLoop:"Recursive loop in echo detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",invalidMask:"Invalid mask used only string or boolean allowed",defunctTerminal:"You can't call method on terminal that was destroyed"}};var requests=[],terminals=new Cycle,save_state=[],change_hash=!1,fire_hash_change=!0,first_instance=!0;$.fn.terminal=function(en,er){function ei(en){en&&(this.storage={}),this.set=function(er,ei){en?this.storage[er]=ei:$.Storage.set(er,ei)},this.get=function(er){return en?this.storage[er]:$.Storage.get(er)},this.remove=function(er){en?delete this.storage[er]:$.Storage.remove(er)}}function eo(en){if($.terminal.unclosed_strings(en)){var er=$.terminal.escape_brackets(en),ei=sprintf(tv().invalidStrings,"`"+er+"`");throw new $.terminal.Exception(ei)}return is_function(tN.processArguments)?process_command(en,tN.processArguments):tN.processArguments?$.terminal.parse_command(en):$.terminal.split_command(en)}function eu(en,er){return(er=er||{},$.terminal.Animation&&en instanceof $.terminal.Animation)?(en.start(t_),!1):is_function(tN.renderHandler)?unpromise(en,function(en){try{var ei=tN.renderHandler.call(t_,en,er,t_);if(!1===ei)return!1;if("string"==typeof ei||ec(ei)||is_promise(ei))return ei;return en}catch(en){return["[[;red;]"+en.message+"]",format_stack_trace(en.stack)].join("\n")}}):en}function ea(en,er){if(ec(en))return['<div class="terminal-render-item"/>',$.extend({},er,{raw:!0,finalize:function(ei){ei.find(".terminal-render-item").replaceWith(en),er&&is_function(er.finalize)&&er.finalize(ei,t_)}})]}function es(en,er){var ei=ea(en,er);if(ei)return t_.echo.apply(t_,ei),!0}function el(en){return eP.find("[data-index="+en+"]")}function ec(en){return en instanceof $.fn.init||en instanceof Element}function ef(en){!1===(en=eu(en))||es(en)||("string"==typeof en?t_.echo(en):is_array(en)?t_.echo($.map(en,function(en){return JSON.stringify(en)}).join(" ")):"object"==typeof en?t_.echo(JSON.stringify(en)):t_.echo(en))}function ep(en,er){var ei=/(.*):([0-9]+):([0-9]+)$/,eo=en.match(ei);eo&&(t_.pause(tN.softPause),$.get(eo[1],function(en){var ei=eo[1],eu=en.split("\n"),ea=+eo[2]-1,es=ea>2?ea-2:0,el=eu.slice(es,ea+3).map(function(en,ei){var eo="["+(ea+ei-1)+"]: ",eu=er-eo.length-4;return en.length>eu&&(en=en.substring(0,eu)+"..."),(ea>2?2===ei:ei===ea)&&(en="[[;#f00;]"+$.terminal.escape_brackets(en)+"]"),eo+en}).filter(Boolean).join("\n");el.length&&(t_.echo("[[b;white;]"+ei+"]"),t_.echo(el).resume())},"text"))}function eD(en){if(is_function(tN.onRPCError))tN.onRPCError.call(t_,en);else if(t_.error("&#91;RPC&#93; "+en.message),en.error&&en.error.message){var er="	"+(en=en.error).message;en.file&&(er+=' in file "'+en.file.replace(/.*\//,"")+'"'),en.at&&(er+=" at line "+en.at),t_.error(er)}}function em(en,er){var ei=function(er,ei){t_.pause(tN.softPause),$.jrpc({url:en,method:er,params:ei,request:function(en,er){try{tN.request.call(t_,en,er,t_)}catch(en){eC(en,"USER")}},response:function(en,er){try{tN.response.call(t_,en,er,t_)}catch(en){eC(en,"USER")}},success:function(en){en.error?eD(en.error):is_function(tN.processRPCResponse)?tN.processRPCResponse.call(t_,en.result,t_):null!==en.result&&ef(en.result),t_.resume()},error:eh})};return function(en,eu){if(""!==en){try{en=eo(en)}catch(en){eC(en,"TERMINAL (get_processed_command)");return}if(er&&"help"!==en.name){var ea=eu.token(!0);ea?ei(en.name,[ea].concat(en.args)):eu.error("&#91;AUTH&#93; "+tv().noTokenError)}else ei(en.name,en.args)}}}function ed(en,er,ei,eu){return function(ea,es){if(""!==ea){try{el=eo(ea)}catch(en){is_function(tN.exception)?tN.exception(en,t_):t_.error("Error: "+(en.message||en));return}var el,ec=en[el.name],ef=get_type(ec);if("function"===ef){if(!er||ec.length===el.args.length)return ec.apply(t_,el.args);t_.error("&#91;Arity&#93; "+sprintf(tv().wrongArity,el.name,ec.length,el.args.length))}else if("object"===ef||"string"===ef){var ep=[];"object"===ef&&(ep=Object.keys(ec),ec=ed(ec,er,ei)),es.push(ec,{prompt:el.name+"> ",name:el.name,completion:"object"===ef?ep:undefined})}else is_function(eu)?eu(ea,t_):is_function(tN.onCommandNotFound)?tN.onCommandNotFound.call(t_,ea,t_):es.error(sprintf(tv().commandNotFound,el.name))}}}function eh(en,er,ei){t_.resume(),is_function(tN.onAjaxError)?tN.onAjaxError.call(t_,en,er,ei):"abort"!==er&&t_.error("&#91;AJAX&#93; "+er+" - "+tv().serverResponse+":\n"+$.terminal.escape_brackets(en.responseText))}function eg(en,er,ei){function eo(en){en.error?eD(en.error):is_function(tN.processRPCResponse)?tN.processRPCResponse.call(t_,en.result,t_):ef(en.result),t_.resume()}function eu(en,er){try{tN.request.call(t_,en,er,t_)}catch(en){eC(en,"USER")}}function ea(en,er){try{tN.response.call(t_,en,er,t_)}catch(en){eC(en,"USER")}}function es(es){var el=es;if(!1!==tN.describe&&""!==tN.describe&&tN.describe.split(".").forEach(function(en){el=el[en]}),el&&el.length){var ec={};$.each(el,function(ei,es){$.isPlainObject(es)&&"string"==typeof es.name&&(ec[es.name]=function(){var ei=er&&"help"!==es.name,el=Array.prototype.slice.call(arguments),ec=el.length+(ei?1:0);if(tN.checkArity&&es.params&&es.params.length!==ec)t_.error("&#91;Arity&#93; "+sprintf(tv().wrongArity,es.name,es.params.length,ec));else{if(t_.pause(tN.softPause),ei){var ef=t_.token(!0);ef?el=[ef].concat(el):t_.error("&#91;AUTH&#93; "+tv().noTokenError)}$.jrpc({url:en,method:es.name,params:el,request:eu,response:ea,success:eo,error:eh})}})});var ef="string"==typeof er?er:"login";ec.help=ec.help||function(en){if(void 0===en){var ei=el.map(function(en){return en.name}).join(", ")+", help";t_.echo("Available commands: "+ei)}else{var eo=!1;if($.each(el,function(ei,eu){if(eu.name===en){eo=!0;var ea="";if(ea+="[[bu;;]"+eu.name+"]",eu.params){var es=eu.params;er&&eu.name!==ef&&(es=es.slice(1)),ea+=" "+es.join(" ")}return eu.help&&(ea+="\n"+eu.help),t_.echo(ea),!1}}),!eo){if("help"===en)t_.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var eu="Method `"+en+"' not found ";t_.error(eu)}}}},ei(ec)}else ei(null)}return $.jrpc({url:en,method:"system.describe",params:[],success:es,request:eu,response:ea,error:function(){ei(null)}})}function ev(en,er,ei){ei=ei||$.noop;var eo,eu,ea=get_type(en),es={},el=0;if("array"===ea)eo={},function en(ei,ea){if(ei.length){var es=ei[0],ec=ei.slice(1),ef=get_type(es);"string"===ef?(t_.pause(tN.softPause),!1===tN.describe?(1==++el?eu=em(es,er):t_.error(tv().oneRPCWithIgnore),en(ec,ea)):eg(es,er,function(ei){ei?$.extend(eo,ei):1==++el?eu=em(es,er):t_.error(tv().oneRPCWithIgnore),t_.resume(),en(ec,ea)})):"function"===ef?(eu?t_.error(tv().oneInterpreterFunction):eu=es,en(ec,ea)):"object"===ef&&($.extend(eo,es),en(ec,ea))}else ea()}(en,function(){ei({interpreter:ed(eo,!1,er,eu&&eu.bind(t_)),completion:Object.keys(eo)})});else if("string"===ea)!1===tN.describe?(eo={interpreter:em(en,er)},$.isArray(tN.completion)&&(eo.completion=tN.completion),ei(eo)):(t_.pause(tN.softPause),eg(en,er,function(eo){eo?(es.interpreter=ed(eo,!1,er),es.completion=Object.keys(eo)):es.interpreter=em(en,er),ei(es),t_.resume()}));else if("object"===ea)ei({interpreter:ed(en,tN.checkArity,er),completion:Object.keys(en)});else{if("undefined"===ea)en=$.noop;else if("function"!==ea){var ec=ea+" is invalid interpreter value";throw new $.terminal.Exception(ec)}ei({interpreter:en,completion:tN.completion})}}function ey(en,er){var ei="boolean"===get_type(er)?"login":er;return function(er,eo,eu){t_.pause(tN.softPause),$.jrpc({url:en,method:ei,params:[er,eo],request:function(en,er){try{tN.request.call(t_,en,er,t_)}catch(en){eC(en,"USER")}},response:function(en,er){try{tN.response.call(t_,en,er,t_)}catch(en){eC(en,"USER")}},success:function(en){!en.error&&en.result?eu(en.result):eu(null),t_.resume()},error:eh})}}function eC(en,er,ei){is_function(tN.exceptionHandler)?tN.exceptionHandler.call(t_,en,er):(t_.exception(en,er),ei||setTimeout(function(){throw en},0))}function e_(en){function er(en,er,ei,eo,eu,ea,es){function el(en,es){return"[["+[er+(en||""),ei,eo,eu,es||ea].join(";")+"]"}function ec(en){return"]"+el("!",en)+en+"]"+el()}if(!er.match(/!/)){var ef=es.match(email_full_re)||es.match(url_full_re);if(ef)return el("!",ef[1])+es+"]";if(es.match(email_re)||es.match(url_nf_re)){var ep=es.replace(email_re,ec).replace(url_nf_re,ec);return el("",ea)+ep+"]"}}return en}function ei(en){return en.replace(email_re,"[[!;;]$1]").replace(url_nf_re,"[[!;;]$1]")}return $.terminal.have_formatting(en)?$.terminal.format_split(en).map(function(en){return $.terminal.is_formatting(en)?en.replace(format_parts_re,er):ei(en)}).join(""):ei(en)}function eb(en,er){return(strlen(text(en))>er.cols||en.match(/\n/))&&(!0===tN.wrap&&undefined===er.wrap||!1===tN.wrap&&!0===er.wrap)}function eF(en,er,ei){return ei.exec||er.options.clear_exec?$.terminal.each_extended_command(en,function(en){if(ei.exec){er.options.exec=!1,er.options.clear_exec=!0;var eo=en.trim();ez&&ez===eo?(ez="",t_.error(tv().recursiveLoop)):(ez=eo,$.terminal.extended_command(t_,en,{invokeMethods:ei.invokeMethods}).then(function(){ez=""}))}}):en}function eE(en){try{var er=!is_function(en.value),ei=$.extend({exec:!0,raw:!1,finalize:$.noop,useCache:er,invokeMethods:!1,formatters:!0,convertLinks:tN.convertLinks},en.options||{}),eo=t4(en.value);if(eo&&is_function(eo.then))return eo.then(function(er){eE($.extend(en,{value:er,options:ei}))});if(""!==eo){if(!ei.raw){if(tN.useCache&&ei.useCache){var eu,ea=eo;if(ej&&ej.has(ea)){var es=ej.get(ea);return tH.append(es.input,en.index,ei,es.raw),!0}}if(ei.formatters)try{eo=$.terminal.apply_formatters(eo,$.extend(tN,{echo:!0}))}catch(en){eC(en,"FORMATTING")}if(eo=eF(eo,en,ei),""===eo)return;ei.convertLinks&&(eo=e_(eo));var el=eo;eo=crlf($.terminal.normalize(eo)),eo=$.terminal.encode(eo,{tabs:tN.tabs});var ec=ei.cols=t_.cols();eb(eo,ei)?eu=$.terminal.split_equal(eo,ec,{keepWords:ei.keepWords,trim:!0}):eo.match(/\n/)&&(eu=eo.split(/\n/))}}else el="";var ef=eu||eo;ej&&ea&&er&&ej.set(ea,{input:ef,raw:el}),tH.append(ef,en.index,ei,el)}catch(en){tH.clear(),is_function(tN.exceptionHandler)?tN.exceptionHandler.call(t_,en,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",en)}return!0}function ex(en){if(!(en=$.extend({},{update:!1,scroll:!0},en||{})).update){eJ.resize(e$);var er=eP.empty().detach()}try{tH.clear(),unpromise(tW.render(t_.rows(),function(en){return en.map(eE)}),function(){t_.flush(en),en.update||eJ.before(er),e7("onAfterRedraw")})}catch(en){is_function(tN.exceptionHandler)?tN.exceptionHandler.call(t_,en,"TERMINAL (redraw)"):alert_exception("[redraw]",en)}}function ew(){if(tN.outputLimit>=0){en=0===tN.outputLimit?t_.rows():tN.outputLimit;var en,er=eP.find("> div > div");if(er.length+1>en){var ei=er.length-en+1,eo=er.slice(0,ei),eu=eo.parent();eo.remove(),eu.each(function(){var en=$(this);en.is(":empty")&&(tW.unmount(en),en.remove())}),tW.limit_snapshot(ei)}}}function ek(){if(undefined===tN.greetings)t_.echo(t_.signature,{finalize:a11y_hide,formatters:!1});else if(tN.greetings){var en=typeof tN.greetings;"string"===en?t_.echo(tN.greetings):"function"===en?t_.echo(function(){if(tN.greetings)try{var en=new $.Deferred,er=tN.greetings.call(t_,en.resolve);return er&&en.resolve(er),en.promise()}catch(en){tN.greetings=null,eC(en,"greetings")}}):t_.error(tv().wrongGreetings)}}function eA(en){var er=eJ.mask();switch(typeof er){case"string":return en.replace(/./g,er);case"boolean":if(er)return en.replace(/./g,tN.maskChar);return $.terminal.escape_formatting(en)}throw new $.terminal.Exception(tv().invalidMask)}function eB(en){void 0===en&&(en=t_.get_command());var er=eJ.prompt(!0);en=eA(en);var ei={exec:!1,formatters:!1,convertLinks:!1,finalize:function(er){a11y_hide(er.addClass("terminal-command")),e7("onEchoCommand",[er,en])}};en=$.terminal.apply_formatters(en,{command:!0}),t_.echo(er+en,ei)}function eT(){return tQ.outerWidth()!==t_.outerWidth()}function eS(en){var er=terminals.get()[en[0]];if(!er)throw new $.terminal.Exception(tv().invalidTerminalId);var ei=en[1];if(save_state[ei])er.import_view(save_state[ei]);else{change_hash=!1;var eo=en[2];eo&&er.exec(eo).done(function(){change_hash=!0,save_state[ei]=er.export_view()})}}function eR(en){return function(er){t_.error("["+en+"] "+(er.message||er)).resume()}}function eO(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout(function(){fire_hash_change=!0},100))}"Map"in root&&(ej=new Map);var ej,eL,eI,ez,eP,e$,eN,eM,eH,eW,eU,eq,eK,eJ,eY,eV,eG,eX,eZ,eQ=!0,e0=[];function e1(en,er,ei){function eo(){(tN.historyState||tN.execHash&&ei)&&(save_state.length?t_.save_state(null):t_.save_state())}function eu(){ei||(change_hash=!0,tN.historyState&&t_.save_state(en,!1),change_hash=em)}function ea(){eD.resolve(),e7("onAfterCommand",[en])}function es(en,er){void 0!==en&&ef(en),ea(),er&&t_.resume()}function el(en){return is_function(en.done||en.then)&&tR}function ec(){var er=ep.interpreter.call(t_,en,t_);if(eu(),!er)return tJ?e0.push(function(){ea()}):ea(),eD.promise();!tB&&(el(er)?tJ=!0:is_promise(er)&&t_.pause(tN.softPause)),tB=!1;var ei=eR("Command");return is_function(er.done||er.then)?unpromise(er,function(en){es(en,!0)},ei):$.when(er).done(es).catch(ei)}eQ&&(eQ=!1,eo());try{if(!1===e7("onBeforeCommand",[en]))return;ei?(ez=en.trim(),eI=$.terminal.split_command(ez)):eI=$.terminal.split_command(en),!ti()&&ei&&(is_function(tN.historyFilter)&&tN.historyFilter(en)||en.match(tN.historyFilter))&&eJ.history().append(en);var ep=eK.top();!er&&tN.echoCommand&&eB(en);var eD=new $.Deferred,em=change_hash;if(en.match(/^\s*login\s*$/)&&t_.token(!0))eu(),t_.level()>1?t_.logout(!0):t_.logout(),ea();else if(tN.exit&&en.match(/^\s*exit\s*$/)&&!tz){eu();var ed=t_.level();(1===ed&&t_.get_token()||ed>1)&&(t_.get_token(!0)&&t_.set_token(undefined,!0),t_.pop()),ea()}else if(tN.clear&&en.match(/^\s*clear\s*$/)&&!tz)eu(),t_.clear(),ea();else{var eh=ec();if(eh)return eh}return eD.promise()}catch(en){if(eC(en,"USER",ei),t_.resume(),ei)throw en}}function e2(){!1!==e7("onBeforeLogout",[],!0)&&(e3(),e7("onAfterlogout",[],!0),t_.login(eZ,!0,tr))}function e3(){var en=t_.prefix_name(!0)+"_";tU.remove(en+"token"),tU.remove(en+"login")}function e8(en){var er=t_.prefix_name()+"_interpreters",ei=tU.get(er);ei=ei?JSON.parse(ei):[],-1===$.inArray(en,ei)&&(ei.push(en),tU.set(er,JSON.stringify(ei)))}function e6(en){var er=eK.top(),ei=t_.prefix_name(!0);ti()||e8(ei);var eo=t_.login_name(!0);eJ.name(ei+(eo?"_"+eo:""));var eu=er.prompt;is_function(eu)&&(eu=t5(eu)),eu!==eJ.prompt()&&(is_function(er.prompt)&&eJ.prompt(""),eJ.prompt(er.prompt)),void 0!==er.history&&t_.history().toggle(er.history),$.isPlainObject(er.keymap)&&eJ.keymap(null).keymap($.extend({},nr,$.omap(er.keymap,function(en,er){return function(){var en=[].slice.call(arguments);try{return er.apply(t_,en)}catch(en){eC(en,"USER KEYMAP")}}}))),eJ.set(""),tj.resolve(),!en&&is_function(er.onStart)&&er.onStart.call(t_,t_)}function e7(en,er,ei){er=(er||[]).concat([t_]);var eo=eK&&eK.top();if(eo&&is_function(eo[en])&&!ei)try{return eo[en].apply(t_,er)}catch(er){delete eo[en],eC(er,en)}else if(is_function(tN[en]))try{return tN[en].apply(t_,er)}catch(er){tN[en]=null,eC(er,en)}}var e9=function(){function en(en){if(!en)try{return t_.scroll_to(t_.find(".cmd-cursor-line")),!0}catch(en){return!0}}return void 0!==__webpack_require__.g&&"function"==typeof __webpack_require__.g.it?en:debounce(en,100,{leading:!0,trailing:!1})}();function e4(){return t_.find(".cmd-cursor-line").is_fully_in_viewport(t_).then(e9)}function e5(en){if("undefined"!=typeof history&&history.replaceState){var er="#"+JSON.stringify(en),ei=location.href.replace(/#.*$/,er);history.replaceState(null,"",ei)}}function tn(){if(fire_hash_change&&tN.execHash)try{if(location.hash){var en=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(en))}else hash_commands=[];hash_commands.length?eS(hash_commands[hash_commands.length-1]):save_state[0]&&t_.import_view(save_state[0])}catch(en){eC(en,"TERMINAL")}}function tr(){function en(){tP=$.noop,!ei&&t_.enabled()&&t_.resume(!0)}e6(),ek(),tW.length&&(tx.length?$.when.apply($,tx).then(t_.refresh):t_.refresh());var er,ei=!1;if(is_function(tN.onInit)){tP=function(){ei=!0};try{er=tN.onInit.call(t_,t_)}catch(en){eC(en,"OnInit")}finally{is_promise(er)?er.then(en).catch(function(er){eC(er,"OnInit"),en()}):en()}}first_instance&&(first_instance=!1,$(window).on("hashchange",tn))}function ti(){return tz||!1!==eJ.mask()}function to(en){var er,ei=eK.top();if(is_function(ei.keydown)){if(undefined!==(er=ei.keydown.call(t_,en,t_)))return er}else if(is_function(tN.keydown)&&undefined!==(er=tN.keydown.call(t_,en,t_)))return er}var tu={"CTRL+D":function(en,er){return tz||(""===eJ.get()?eK.size()>1||is_function(eZ)?t_.pop(""):t_.resume():er()),!1},"CTRL+C":function(){return with_selection(function(en){if(""===en){var er=t_.get_command(),ei=t_.get_position();eB(er=er.slice(0,ei)+"^C"+er.slice(ei+2)),t_.set_command("")}else{var eo=t_.find("textarea");text_to_clipboard(eo,process_selected_html(en))}}),!1},"CTRL+L":function(){return t_.clear(),!1},TAB:function(en,er){var ei,eo,eu=eK.top();function ea(en){en=en.slice(),!t_.before_cursor(!1).match(/\s/)&&(tN.clear&&-1===$.inArray("clear",en)&&en.push("clear"),tN.exit&&-1===$.inArray("exit",en)&&en.push("exit")),t_.complete(en,{echo:!0,word:tN.wordAutocomplete,escape:tN.completionEscape,caseSensitive:eo,echoCommand:tN.doubleTabEchoCommand,doubleTab:tN.doubleTab})}if(eo=void 0!==eu.caseSensitiveAutocomplete?eu.caseSensitiveAutocomplete:tN.caseSensitiveAutocomplete,"settings"===(ei=tN.completion&&"boolean"!==get_type(tN.completion)&&undefined===eu.completion?tN.completion:eu.completion)&&(ei=tN.completion),ei)switch(get_type(ei)){case"function":var es=t_.before_cursor(tN.wordAutocomplete);if(3===ei.length){eC(Error(tv().comletionParameters),"USER");break}unpromise(ei.call(t_,es,ea),ea,eR("Completion"));break;case"array":ea(ei);break;default:throw new $.terminal.Exception(tv().invalidCompletion)}else er();return!1},"CTRL+V":function(en,er){return er(en),t_.oneTime(200,function(){t_.scroll_to_bottom()}),!0},"CTRL+TAB":function(){if(terminals.length()>1)return t_.focus(!1),!1},PAGEDOWN:function(){t_.scroll(t_.height())},PAGEUP:function(){t_.scroll(-t_.height())}};function ta(en){var er,ei;if(tR)return!1;if(t_.enabled()){if(t_.paused()){if(!tN.pauseEvents&&undefined!==(er=to(en)))return er;if(68===en.which&&en.ctrlKey){if(tN.pauseEvents&&undefined!==(er=to(en)))return er;if(requests.length){for(ei=requests.length;ei--;){var eo=requests[ei];if(4!==eo.readyState)try{eo.abort()}catch(er){is_function(tN.exceptionHandler)?tN.exceptionHandler.call(t_,en,"AJAX ABORT"):t_.error(tv().ajaxAbortError)}}requests=[]}t_.resume()}return!1}if(undefined!==(er=to(en)))return er;9!==en.which&&(tk=0)}}function ts(en){var er=eK.top();if(tq&&(!tJ||!tN.pauseEvents)){if(is_function(er.keypress))return er.keypress.call(t_,en,t_);if(is_function(tN.keypress))return tN.keypress.call(t_,en,t_)}}function tl(en){return function(er,ei){var eo=$.terminal.apply_formatters(er,{animation:!0});tR=!0;var eu=t_.get_prompt(),ea=0,es=$.terminal.length(eo);if(er.length>0){var el="";ei.prompt?el=ei.prompt:t_.set_prompt("");var ec=t_.is_bottom(),ef=$.terminal.partition(eo,{wrap:!1}),ep=setInterval(function(){if(tO){t_.skip_stop();var eD=$.terminal.substring(eo,ea,es);el+=eD,t_.set_prompt(el),ea=es}else{var em=ef[ea];if(ei.mask){var ed=eJ.mask();"string"==typeof ed?em=ed:ed&&(em=tN.maskChar)}el+=em,t_.set_prompt(el),ec&&("\n"===em||!t_.is_bottom())&&t_.scroll_to_bottom(),ea++}ea===es&&(clearInterval(ep),setTimeout(function(){en(er,eu,ei),tR=!1},ei.delay))},ei.delay)}}}var tc=tl(function(en,er,ei){t_.set_prompt(en),ei.finalize()}),tf=function(){var en=tl(function(en,er,ei){t_.set_prompt(er),t_.insert(en),ei.finalize()});return function(er,ei,eo){return en(ei,$.extend({},eo,{prompt:er+t_.get_command()}))}}(),tp=tl(function(en,er,ei){t_.set_prompt(er),t_.echo(en,$.extend({},ei,{typing:!1}))}),tD=function(){var en=tl(function(en,er,ei){t_.set_prompt(er),with_prompt(er,function(er){var eo=eA(en);eo=$.terminal.apply_formatters(eo,{command:!0});var eu=er+eo;ei=$.extend({},ei,{typing:!1,formatters:!1,convertLinks:!1}),t_.echo(eu,ei)},t_)});return function(er,ei,eo){return en(ei,$.extend({},eo,{prompt:er,mask:!0}))}}();function tm(en,er,ei){return function(eo,eu){var ea=new $.Deferred;return(tL(function(){var es=$.extend({typing:!1,delay:tN.execAnimationDelay},eu);if(es.typing){if("string"!=typeof eo)return ea.reject(en+": Typing animation require string");if("number"!=typeof es.delay||isNaN(es.delay))return ea.reject(en+": Invalid argument, delay need to be a number");t_.typing(en,es.delay,eo,es).then(function(){ea.resolve()})}else er(eo,es);is_function(ei)&&ei(eo,es)}),eu&&eu.typing)?ea.promise():t_}}function td(en,er,ei){return unpromise(always(e7("onBeforeLogin",[en,er])),ei,"validate_login")}function th(en,er,ei,eo){tN.history&&eJ.history().disable();var eu=t_.level();function ea(){for(;t_.level()>eu;)t_.pop(undefined,!0);tN.history&&eJ.history().enable()}function es(en,er){var ei=t_.prefix_name(!0)+"_";tU.set(ei+"token",er),tU.set(ei+"login",en)}function el(en,eu,el){var ec;eu?(ea(),es(en,eu),tz=!1,e7("onAfterLogin",[en,eu]),ec=ei):(er?(el||t_.error(tv().wrongPasswordTryAgain),t_.pop(undefined,!0).set_mask(!1)):(tz=!1,el||t_.error(tv().wrongPassword),t_.pop(undefined,!0).pop(undefined,!0)),ec=eo),t_.paused()&&t_.resume(),is_function(ec)&&ec(),t_.off("terminal.autologin")}(function(){var en=t_.prefix_name(!0)+"_";tU.remove(en+"token"),tU.remove(en+"login")})(),t_.on("terminal.autologin",function(en,er,ei,eo){td(er,ei,function(en){!1!==en&&el(er,ei,eo)})}),t_.push(function(er){t_.set_mask(tN.maskChar).push(function(ei){try{td(er,ei,function(eu){if(!1===eu){ea();return}t_.pause();try{var es=[er,ei,function(en,ei){el(er,en,ei)}],ec=en.apply(t_,es);unpromise(ec,function(en){el(er,en)},function(en){t_.pop(undefined,!0).pop(undefined,!0),t_.error(en.message),is_function(eo)&&eo(),t_.paused()&&t_.resume(),t_.off("terminal.autologin")})}catch(en){eC(en,"AUTH")}})}catch(en){eC(en,"AUTH")}},{prompt:tv().password+": ",name:"password"})},{prompt:tv().login+": ",name:"login"})}function tg(en){return function(er){en.add(er)}}function tv(){return $.extend({},$.terminal.defaults.strings,tN&&tN.strings||{})}function ty(en,er){return parseInt(en.getPropertyValue(er),10)||0}function tC(){var en=window.getComputedStyle(tQ[0]);function er(er){return ty(en,"padding-"+er)}var ei=er("left"),eo=er("right");return{top:er("top"),left:ei,right:eo,bottom:er("bottom")}}var t_=this;if(this.length>1)return this.each(function(){$.fn.terminal.call($(this),en,$.extend({name:t_.selector},er))});if(t_.is("body,html")){if(t_.hasClass("full-screen-terminal")){var tb=t_.find("> .terminal").data("terminal");if(tb)return tb}eL=t_,t_=$("<div/>").appendTo("body"),$("body").addClass("full-screen-terminal")}else if(t_.data("terminal"))return t_.data("terminal");var tF=$.omap({id:function(){return tA},clear:function(){return!1!==e7("onClear")&&(tH.clear(),tW.clear(function(en){return el(en)}),eP[0].innerHTML="",t_.prop({scrollTop:0})),t_},export_view:function(){var en=e7("onExport");return en=en||{},$.extend({},{focus:tq,mask:eJ.mask(),prompt:t_.get_prompt(),command:t_.get_command(),position:eJ.position(),lines:clone(tW.data()),interpreters:eK.clone(),history:eJ.history().data},en)},import_view:function(en){if(tz)throw Error(sprintf(tv().notWhileLogin,"import_view"));return e7("onImport",[en]),tL(function(){t_.set_prompt(en.prompt),t_.set_command(en.command),eJ.position(en.position),eJ.mask(en.mask),en.focus&&t_.focus(),tW.import(clone(en.lines).filter(function(en){return en[0]})),en.interpreters instanceof Stack&&(eK=en.interpreters),tN.importHistory&&eJ.history().set(en.history),ex()}),t_},save_state:function(en,er,ei){if(void 0!==ei?save_state[ei]=t_.export_view():save_state.push(t_.export_view()),$.isArray(hash_commands)||(hash_commands=[]),undefined!==en&&!er){var eo=[tA,save_state.length-1,en];hash_commands.push(eo),eO()}return t_},exec:function(en,er,ei){function eo(er){unpromise(e1(en,er,!0),function(){eI=null,ea.resolve()},function(){eI=null,ea.reject()})}er&&"object"==typeof er&&(ei=er,er=null);var eu=$.extend({deferred:null,silent:!1,typing:!1,delay:tN.execAnimationDelay},ei);null===er&&(er=eu.silent),is_deferred(eu.deferred)||(eu.deferred=new $.Deferred);var ea=eu.deferred;return tI(function(){if($.isArray(en))!function eo(){var eu=en.shift();eu?t_.exec(eu,er,ei).done(eo):ea.resolve()}();else if(tJ)t$.push([en,er,eu]);else if(eu.typing&&!er){var es=eu.delay;tJ=!0,t_.typing("enter",es,en,{delay:es}).then(function(){tJ=!1,eo(!0)}),ea.then(function(){tJ=!1})}else eo(er)}),ea.promise()},autologin:function(en,er,ei){return t_.trigger("terminal.autologin",[en,er,ei]),t_},login:function(en,er,ei,eo){if(tT.push([].slice.call(arguments)),tz)throw Error(sprintf(tv().notWhileLogin,"login"));if(!is_function(en))throw Error(tv().loginIsNotAFunction);if(tz=!0,t_.token()&&1===t_.level()&&!tY)tz=!1,t_.logout(!0);else{var eu=t_.token(!0),ea=t_.login_name(!0);eu&&ea?(tz=!1,t_.pause(),td(ea,eu,function(eu){!1!==eu?is_function(ei)&&ei():(t_.resume(),th(en,er,ei,eo))})):th(en,er,ei,eo)}return t_},settings:function(){return tN},before_cursor:function(en){var er,ei=eJ.position(),eo=eJ.get().slice(0,ei),eu=eo.split(/\s/);if(en){if(1===eu.length)er=eu[0];else{var ea=eo.match(/(\\?")/g),es=ea?ea.filter(function(en){return!en.match(/^\\/)}).length:0;if(((ea=eo.match(/'/g))?ea.length:0)%2==1)er=eo.match(/('[^']*)$/)[0];else if(es%2==1)er=eo.match(/("(?:[^"]|\\")*)$/)[0];else for(er=eu[eu.length-1],t3=eu.length-1;t3>0;t3--){var el=eu[t3-1];if("\\"===el[el.length-1])er=eu[t3-1]+" "+er;else break}}}else er=eo;return er},complete:function(en,er){var ei=(er=$.extend({word:!0,echo:!1,escape:!0,echoCommand:!1,caseSensitive:!0,doubleTab:null},er||{})).caseSensitive,eo=t_.before_cursor(er.word).replace(/\\"/g,'"'),eu=!1;if(er.word&&(eo.match(/^"/)?eu='"':eo.match(/^'/)&&(eu="'"),eu&&(eo=eo.replace(/^["']/,""))),tk%2==0)eM=t_.before_cursor(er.word);else if(t_.before_cursor(er.word)!==eM)return;var ea=$.terminal.escape_regex(eo);function es(en){return'"'===eu&&(en=en.replace(/"/g,'\\"')),!eu&&er.escape&&(en=en.replace(/(["'() ])/g,"\\$1")),en}function el(){for(var eu=[],ea=en.length;ea--;)if(en[ea].match(/\n/)&&er.word&&warn("If you use commands with newlines you should use word option for complete or wordAutocomplete terminal option"),ec.test(en[ea])){var el=es(en[ea]);!ei&&same_case(el)&&(eo.toLowerCase()===eo?el=el.toLowerCase():eo.toUpperCase()===eo&&(el=el.toUpperCase())),eu.push(el)}return eu}er.escape&&(ea=ea.replace(/(\\+)(["'() ])/g,function(en,er,ei){return ei.match(/[()]/)?er+"\\?\\"+ei:er+"?"+ei}));var ec=RegExp("^"+ea,ei?"":"i"),ef=el();function ep(en,er){var ei=t_.get_command(),eo=t_.get_position(),ea=RegExp("^"+en,"i"),es=ei.slice(0,eo),el=ei.slice(eo),ec=er.replace(ea,"")+(eu||"");t_.set_command(es+ec+el),t_.set_position((es+ec).length)}if(1===ef.length)return er.escape?ep(ea,ef[0]):t_.insert(ef[0].replace(ec,"")+(eu||"")),eM=t_.before_cursor(er.word),!0;if(ef.length>1){if(++tk>=2){if(tk=0,er.echo){if(is_function(er.doubleTab)){er.echoCommand&&eB();var eD=er.doubleTab.call(t_,eo,ef,eB);if(void 0!==eD)return eD}else if(!1!==er.doubleTab){eB();var em=ef.slice().reverse().join("		");t_.echo($.terminal.escape_brackets(em),{keepWords:!0,formatters:!1})}return!0}}else{var ed=common_string(es(eo),ef,ei);if(ed)return ep(ea,ed),eM=t_.before_cursor(er.word),!0}}},commands:function(){return eK.top().interpreter},set_interpreter:function(en,er){var ei=$.Deferred();function eo(){t_.pause(tN.softPause),ev(en,er,function(en){t_.resume();var er=eK.top();$.extend(er,en),e6(!0),ei.resolve()})}return is_function(er)?t_.login(er,!0,eo):"string"===get_type(en)&&er?t_.login(ey(en,er),!0,eo):eo(),ei.promise()},greetings:function(){return ek(),t_},paused:function(){return tJ},pause:function(en){return tI(function(){tP(),tJ=!0,eJ.disable(en||is_android),en||eJ.find(".cmd-prompt").hidden(),e7("onPause")}),t_},resume:function(en){return tI(function(){tJ=!1,tq&&terminals.front()===t_&&eJ.enable(en),eJ.find(".cmd-prompt").visible();var er=t$;t$=[];for(var ei=0;ei<er.length;++ei)t_.exec.apply(t_,er[ei]);t_.trigger("resume");var eo=e0.shift();eo&&eo(),!1!==e7("onResume")&&t_.scroll_to_bottom()}),t_},skip:function(){tO=!0},skip_stop:function(){tO=!1},animating:function(){return tR},cols:function(){return tN.numChars?tN.numChars:(e$&&1e3!==e$||(e$=get_num_chars(t_,t1)),e$)},rows:function(){return tN.numRows?tN.numRows:(eN||(eN=get_num_rows(t_,t1)),eN)},history:function(){return eJ.history()},geometry:function(){let en=tC();return{terminal:{padding:{left:en.left,right:en.right,top:en.top,bottom:en.bottom},width:eU+en.left+en.right,height:eq+en.top+en.bottom},density:t0,char:t1,cols:this.cols(),rows:this.rows()}},history_state:function(en){function er(){tN.historyState=!0,save_state.length?terminals.length()>1&&t_.save_state(null):t_.save_state()}return en?void 0===window.setImmediate?setTimeout(er,0):setImmediate(er):tN.historyState=!1,t_},clear_history_state:function(){return hash_commands=[],save_state=[],t_},next:function(){if(1===terminals.length())return t_;terminals.front().disable();var en=terminals.rotate().enable(),er=en.offset().top-50;$("html,body").animate({scrollTop:er},500);try{trigger_terminal_change(en)}catch(en){eC(en,"onTerminalChange")}return en},focus:function(en,er){return tI(function(){if(1===terminals.length())!1===en?t_.disable(er):t_.enable(er);else if(!1===en)t_.next();else{if(terminals.front()!==t_&&(terminals.forEach(function(en){en!==t_&&en.enabled()&&en.disable(er)}),!er))try{trigger_terminal_change(t_)}catch(en){eC(en,"onTerminalChange")}terminals.set(t_),t_.enable(er)}}),t_},blur:function(en){return this.focus(!1,en)},freeze:function(en){return tL(function(){en?(t_.disable(),tK=!0):(tK=!1,t_.enable())}),t_},frozen:function(){return tK},enable:function(en){return tq||tK||(undefined===e$&&t_.resize(),tI(function(){var er;en||tq||e7("onFocus"),(en||undefined!==er)&&!en||(tq=!0,t_.paused()||eJ.enable(!0))})),t_},clear_cache:"Map"in root?function(){return tH.clear_cache(),ej.clear(),eJ.clear_cache(),t_}:function(){return t_},disable:function(en){return tI(function(){var er;!en&&tq&&(er=e7("onBlur")),(!en&&undefined===er||en)&&(tq=!1,eJ.disable())}),t_},enabled:function(){return tq},signature:function(){for(var en=t_.cols(),er=signatures.length;er--;){var ei=signatures[er].map(function(en){return en.length});if(Math.max.apply(null,ei)<=en)return signatures[er].join("\n").replace(/\s+$/m,"")+"\n"}return""},version:function(){return $.terminal.version},cmd:function(){return eJ},get_command:function(){return eJ.get()},enter:tm("enter",eB),set_command:function(en,er){return tL(function(){"string"!=typeof en&&(en=JSON.stringify(en)),eJ.set(en,undefined,er)}),t_},set_position:function(en,er){return tL(function(){eJ.position(en,er)}),t_},get_position:function(){return eJ.position()},insert:function(en,er){if("string"==typeof en){var ei,eo={stay:!1,typing:!1,delay:100};is_object(er)||(er={stay:er}),ei=$.extend(eo,er);var eu=new $.Deferred;return(tL(function(){function er(){(tN.scrollOnEcho||eo)&&t_.scroll_to_bottom()}var eo=t_.is_bottom();if(ei.typing){var ea=ei.delay;t_.typing("insert",ea,en,tN).then(function(){er(),eu.resolve()})}else eJ.insert(en,tN.stay),er()}),ei.typing)?eu.promise():t_}throw Error(sprintf(tv().notAString,"insert"))},set_prompt:tm("prompt",function(en){is_function(en)?eJ.prompt(function(er){return en.call(t_,er,t_)}):eJ.prompt(en)},function(en){eK.top().prompt=en}),get_prompt:function(){return eK.top().prompt},set_mask:function(en){return tL(function(){eJ.mask(!0===en?tN.maskChar:en)}),t_},get_mask:function(){return eJ.mask()},get_output:function(en){return en?tW.data():tW.get_snapshot()},resize:function(en,er){if(t_.is(":visible")){if(en&&er&&(t_.width(en),t_.height(er)),en=t_.width(),er=t_.height(),void 0!==tN.numChars||void 0!==tN.numRows){void 0!==tN.numChars&&(eJ.resize(tN.numChars),t_.refresh()),e7("onResize");return}var ei=get_num_chars(t_,t1),eo=get_num_rows(t_,t1);if(ei!==e$||eo!==eN){t_.clear_cache();var eu=ei!==e$;e$=ei,eN=eo,eu&&(eJ.resize(e$),t_.refresh()),e7("onResize")}}else t_.stopTime("resize"),t_.oneTime(500,"resize",function(){t_.resize(en,er)});return t_},refresh:function(){return 0!==t1.width&&css(t_[0],{"--char-width":t1.width,"--pixel-density":t0}),t_.clear_cache(),eM&&eJ.resize(),ex({scroll:!1,update:!0}),t_},flush:function(en){return en=$.extend({},{update:!1,scroll:!0},en||{}),tL(function(){try{if(tH.is_empty())return t_;var er,ei,eo,eu=t_.is_bottom(),ea=tN.scrollOnEcho&&en.scroll||eu,es=!0,el=!1,ec=$();if(en.update||(ec=t_.find(".partial"),ei=tW.get_partial()),tH.flush(function(eo){if(eo){if(is_function(eo.finalize)){if(!en.update||!0!==eo.raw||!eo.newline){if(ea&&er.find("img").on("load",function(){t_.scroll_to_bottom()}),en.update){tW.update_snapshot(eo.index,ei);var eu="> div[data-index="+eo.index+"]",ef=eP.find(eu);ef.html()!==er.html()&&ef.replaceWith(er)}else er.appendTo(eP),ec.length||tW.make_snapshot(ei);er.attr("data-index",eo.index),el=!eo.newline,er.toggleClass("partial",el),el&&(ec=er),eo.finalize(er)}}else{var ep,eD=eo.line;"string"==typeof eo.raw&&(el?ei[ei.length-1]+=eo.raw:ei.push(eo.raw)),el?(ep=er.children().last().append(eD),el=!1):(ep=$("<div/>").html(eD),eo.newline&&ep.addClass("cmd-end-line"),er.append(ep)),ep.css("width","100%")}}else ec.length?es&&(es=!1,el=!0,er=ec):(er=$("<div/>"),ei=[])}),ec=t_.find(".partial"),0===ec.length)css(eJ[0],{"--prompt-offset":"",top:""}),eJ.__set_prompt_margin(0),eo=t_.find(".terminal-output div:last-child div:last-child"),"inline-block"===eo.css("display")&&eo.css({width:"100%",display:""});else if(ei.length&&ei[ei.length-1]){var ef=$.terminal.length(ei[ei.length-1]);ef%=t_.cols();var ep=(eo=ec.children().last())[0].getBoundingClientRect(),eD=is_ch_unit_supported?ef+"ch":ef+"px";css(eJ[0],{top:-ep.height/t0+"px","--prompt-offset":eD}),eJ.__set_prompt_margin(ef)}ew(),e7("onFlush");var em=t_.find(".cmd-cursor"),ed=t_.find(".cmd").offset(),eh=t_.offset();t_.stopTime("flush").oneTime(1,"flush",function(){css(t_[0],{"--terminal-height":t_.height(),"--terminal-x":ed.left-eh.left,"--terminal-y":ed.top-eh.top,"--terminal-scroll":t_.prop("scrollTop")}),tq&&(em.hide(),t_.oneTime(1,"flush",function(){em.show()}))}),er.on_load({done:function(){ea&&t_.scroll_to_bottom()}})}catch(en){if(is_function(tN.exceptionHandler))try{tN.exceptionHandler.call(t_,en,"TERMINAL (Flush)")}catch(en){tN.exceptionHandler=$.noop,alert_exception("[exceptionHandler]",en)}else alert_exception("[Flush]",en)}finally{tH.clear()}}),t_},update:function(en,er,ei){return tL(function(){if(en<0&&(en=tW.length()+en),tW.valid_index(en)){if(null===er)tW.update(en,null),eP.find("[data-index="+en+"]").remove();else{if(!1===(er=eu(er,{update:!0,line:en})))return t_;unpromise(er,function(er){var eo=ea(er,ei);eo&&(er=eo[0],ei=eo[1]),ei=tW.update(en,er,ei),unpromise(eE({value:er,index:en,options:ei}),function(){t_.flush({scroll:!1,update:!0})})})}}else t_.error("Invalid line number "+en)}),t_},remove_line:function(en){return t_.update(en,null)},last_index:function(){return tW.length()-1},echo:function(en,er,ei){var eo=arguments.length>0,ea=ei||new $.Deferred;function el(){tw=!1;var en=tx;tx=[];for(var er=0;er<en.length;++er)t_.echo.apply(t_,en[er])}function ef(en){el(),eC(en,"ECHO",!0)}function ep(en){try{var ei,ep=$.extend({flush:!0,exec:!0,raw:tN.raw,finalize:$.noop,unmount:$.noop,delay:tN.execAnimationDelay,ansi:!1,typing:!1,externalPause:!0,keepWords:!1,invokeMethods:tN.invokeMethods,onClear:null,formatters:!0,allowedAttributes:tN.allowedAttributes,newline:!0},er||{}),eD=tN.externalPause&&ep.externalPause;if(function(er){ec(en)||(ep.finalize=function(en){ep.raw&&en.addClass("raw"),ep.ansi&&en.addClass("ansi");try{is_function(er)&&er.call(t_,en),en.on_load({error:function(en){en.replaceWith(use_broken_image)},done:function(en){en&&eD&&t_.resume()},load:function(en){en&&eD&&t_.pause()}})}catch(en){eC(en,"USER:echo(finalize)"),er=null}})}(ep.finalize),ep.flush&&!tH.empty()&&t_.flush(),!1===e7("onBeforeEcho",[en]))return;if(ep.typing){if("string"!=typeof en)return ea.reject("echo: Typing animation require string or promise that resolve to string");if("number"!=typeof ep.delay||isNaN(ep.delay))return ea.reject("echo: Invalid argument, delay need to be a number");t_.typing("echo",ep.delay,en,ep).then(function(){ea.resolve()});return}if("function"==typeof en)ei=en.bind(t_);else if(void 0===en)ei=eo?String(en):"";else{var em=eu(en);if(!1===em)return t_;ei=em}is_promise(ei)&&(tw=!0),unpromise(ei,function(er){if(!is_promise(em)||!1!==er){if(es(er,ep))return t_;var ei=tW.length();!tW.has_newline()&&ei--,ep.newline||"\n"!==er[er.length-1]||(er=er.slice(0,-1),ep.newline=!0);var eo=eE({value:er,options:ep,index:ei});is_promise(eo)&&(tw=!0),tW.push([er,ep]),unpromise(eo,function(){ep.flush&&(t_.flush(),e7("onAfterEcho",[en])),el()},ef)}},ef)}catch(en){is_function(tN.exceptionHandler)?tN.exceptionHandler.call(t_,en,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",en)}}var eD=er&&er.typing;if(tw){var em=[en,er];eD&&em.push(ea),tx.push(em)}else ep(en);return eD?ea.promise():t_},typing:function(en,er,ei,eo){var eu,ea,es=new $.Deferred;function el(){es.resolve(),is_function(ea)&&ea.apply(t_,arguments)}"object"==typeof eo?(ea=eo.finalize||$.noop,eu=$.extend({},eo,{delay:er,finalize:el})):(ea=eo||$.noop,eu={delay:er,finalize:el});var ec=["prompt","echo","enter","insert"];function ef(){return ec.indexOf(en)>=0}return tL(function(){ef()?"prompt"===en?tc(ei,eu):"echo"===en?tp(ei,eu):"enter"===en?with_prompt(t_.get_prompt(),function(en){tD(en,ei,eu)},t_):"insert"===en&&with_prompt(t_.get_prompt(),function(en){tf(en,ei,eu)},t_):es.reject("Invalid type only `echo` and `prompt` are supported")}),es.promise()},error:function(en,er){function ei(en){return"string"!=typeof en&&(en=String(en)),"[[;;;terminal-error]"+$.terminal.escape_brackets(en).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;terminal-error]")+"]"}return(er=$.extend({},er,{raw:!1,formatters:!1}),"function"==typeof en)?t_.echo(function(){return ei(en.call(t_))},er):en&&en.then?(en.then(function(en){t_.echo(ei(en))}).catch(eR("Echo Error")),t_):t_.echo(ei(en),er)},exception:function(en,er){var ei=exception_message(en);if(er&&(ei="&#91;"+er+"&#93;: "+ei),ei&&t_.error(ei,{finalize:function(en){en.addClass("terminal-exception terminal-message")},keepWords:!0}),"string"==typeof en.fileName){var eo=t_.paused();eo||t_.pause(tN.softPause),$.get(en.fileName,function(er){var ei=en.lineNumber-1,eu=er.split("\n")[ei];eu&&t_.error("["+en.lineNumber+"]: "+eu),eo||t_.resume()},"text")}return en.stack&&t_.echo(format_stack_trace(en.stack),{finalize:function(en){en.addClass("terminal-exception terminal-stack-trace")},formatters:!1}),t_},scroll:function(en){var er;return en=Math.round(en),t_.prop,en>tV.prop("scrollTop")&&en>0&&tV.prop("scrollTop",0),er=tV.prop("scrollTop"),tV.scrollTop(er+en),t_},logout:function(en){if(tz)throw Error(sprintf(tv().notWhileLogin,"logout"));return tL(function(){if(en){var er=tT.pop();t_.set_token(undefined,!0),t_.login.apply(t_,er)}else if(1===eK.size()&&t_.token())t_.logout(!0);else for(;eK.size()>1;)t_.token()?t_.logout(!0).pop().pop():t_.pop()}),t_},token:function(en){return tU.get(t_.prefix_name(en)+"_token")},set_token:function(en,er){var ei=t_.prefix_name(er)+"_token";return void 0===en?tU.remove(ei):tU.set(ei,en),t_},get_token:function(en){return t_.token(en)},login_name:function(en){return tU.get(t_.prefix_name(en)+"_login")},name:function(){return eK.top().name},prefix_name:function(en,er){var ei=(tN.name?tN.name+"_":"")+tA;if(en&&eK.size()>1){var eo=eK.map(function(en){return en.name||""}).slice(1,er).join("_");eo&&(ei+="_"+eo)}return ei},read:function(en,er,ei){if(eo="object"==typeof arguments[1]?$.extend({typing:!1,delay:tN.execAnimationDelay,success:$.noop,cancel:$.noop},arguments[1]):{typing:!1,success:er||$.noop,cancel:ei||$.noop},eo.typing){var eo,eu=t_.get_prompt();return eo.typing=!1,t_.typing("prompt",eo.delay,en).then(function(){return t_.set_prompt(eu).read(en,eo)})}tB=!0;var ea=jQuery.Deferred(),es=!1;return t_.push(function(en){es=!0,ea.resolve(en),is_function(eo.success)&&eo.success(en),t_.pop(),tN.history&&eJ.history().enable()},{name:"read",history:!1,prompt:en||"",onExit:function(){!es&&(ea.reject(),is_function(eo.cancel)&&eo.cancel())}}),tN.history&&eJ.history().disable(),is_function(eo.onReady)&&eo.onReady.call(t_),ea.promise()},push:function(en,er){return tI(function(){er=er||{};var ei={infiniteLogin:!1},eo=$.extend({},ei,er);!eo.name&&eI&&(eo.name=eI.name),undefined===eo.prompt&&(eo.prompt=(eo.name||">")+" ");var eu=eK.top();eu&&(eu.mask=eJ.mask());var ea=tJ;function es(){e7("onPush",[eu,eK.top()]),e6()}ev(en,er.login,function(er){if(eK.push($.extend({},er,eo)),!0!==eo.completion||($.isArray(er.completion)?eK.top().completion=er.completion:er.completion||(eK.top().completion=!1)),eo.login){var ei,eu=get_type(eo.login);"function"===eu?(ei=eo.infiniteLogin?$.noop:t_.pop,t_.login(eo.login,eo.infiniteLogin,es,ei)):("string"===get_type(en)&&"string"===eu||"boolean"===eu)&&(ei=eo.infiniteLogin?$.noop:t_.pop,t_.login(ey(en,eo.login),eo.infiniteLogin,es,ei))}else es();!ea&&t_.enabled()&&t_.resume()})}),t_},pop:function(en,er){undefined!==en&&eB(en);var ei,eo=t_.token(!0);if(1===eK.size())ei=eK.top(),tN.login?(er||e7("onPop",[ei,null]),e2(),e7("onExit")):t_.error(tv().canExitError);else{eo&&e3();var eu=eK.pop();if(ei=eK.top(),e6(),t_.set_mask(ei.mask),er||e7("onPop",[eu,ei]),tz&&t_.get_prompt()!==tv().login+": "&&(tz=!1),is_function(eu.onExit))try{eu.onExit.call(t_,t_)}catch(en){eu.onExit=$.noop,eC(en,"onExit")}}return t_},option:function(en,er){if(void 0===er){if("string"==typeof en)return tN[en];"object"==typeof en&&$.each(en,function(en,er){tN[en]=er})}else tN[en]=er,en.match(/^num(Chars|Rows)$/)&&ex();return t_},invoke_key:function(en){return eJ.invoke_key(en),t_},keymap:function(en,er){if(0==arguments.length)return eJ.keymap();if(void 0===er){if("string"==typeof en)return eJ.keymap(en);$.isPlainObject(en)&&(en=$.extend({},nr,$.omap(en||{},function(en,er){return nr[en]?function(ei,eo){return er.call(t_,ei,function(){return nr[en](ei,eo)})}:er.bind(t_)})),eJ.keymap(null).keymap(en))}else if("function"==typeof er){var ei=en;nr[ei]?eJ.keymap(ei,function(en,eo){return er.call(t_,en,function(){return nr[ei](en,eo)})}):eJ.keymap(ei,er.bind(t_))}},level:function(){return eK.size()},reset:function(){return tL(function(){for(t_.clear();eK.size()>1;)eK.pop();tr()}),t_},purge:function(){return tL(function(){var en=t_.prefix_name()+"_",er=tU.get(en+"interpreters");er&&$.each(JSON.parse(er),function(en,er){tU.remove(er+"_commands"),tU.remove(er+"_token"),tU.remove(er+"_login")}),eJ.purge(),tU.remove(en+"interpreters")}),t_},destroy:function(){return tL(function(){eJ.destroy().remove(),t_.resizer("unbind"),t_.touch_scroll("unbind"),tX.resizer("unbind").remove(),tZ.resizer("unbind").remove(),$(document).unbind(".terminal_"+t_.id()),$(window).unbind(".terminal_"+t_.id()),t_.unbind("click mousedown mouseup"),t_.removeData("terminal").removeClass("terminal").unbind(".terminal"),tN.width&&t_.css("width",""),tN.height&&t_.css("height",""),$(window).off("blur",t9).off("focus",t6),t_.find(".terminal-fill, .terminal-font").remove(),t_.stopTime(),terminals.remove(tA),eV&&(eV.unobserve?eV.unobserve(t_[0]):clearInterval(eV));var en=t_.find(".terminal-scroll-marker");if(eW&&eW.unobserve(en[0]),en.remove(),eG&&eG.disconnect(),terminals.length()||$(window).off("hashchange"),is_mobile&&t_.off("touchstart.terminal touchmove.terminal touchend.terminal"),eP.remove(),tV.remove(),eL){var er=$(eL);"full-screen-terminal"===er.attr("class")?er.removeAttr("class"):er.removeClass("full-screen-terminal"),t_.remove()}tM=!0}),t_},scroll_to:function(en){var er=tV.scrollTop()-t_.offset().top+$(en).offset().top;return tV.scrollTop(er),t_},scroll_to_bottom:function(){var en;return en=t_.prop?tV.prop("scrollHeight"):tV.attr("scrollHeight"),tV.scrollTop(en),t_},is_bottom:function(){var en;return -1!==tN.scrollBottomOffset&&("boolean"==typeof eH?eH:(en=tV[0].scrollHeight,tV[0].scrollTop+tV[0].offsetHeight>en-tN.scrollBottomOffset))},duplicate:function(){var en=$(t_);return $.extend(en,tF)},get_output_buffer:function(en){var er=$.extend({html:!1},en),ei=[],eo=!1;return(tH.forEach(function(en){if(en){if(is_function(en.finalize))eo=!en.newline;else{var eu;if(eu=er.html?en.line:en.raw,eo){var ea=ei.length-1;ei[ea]+=eu}else ei.push(eu)}}}),er.html)?ei.map(function(en){return"<div>"+en+"</div>"}).join("\n"):ei.join("\n")},clear_buffer:function(){return tH.clear(),t_}},function(en,er){return function(){if(tM&&!tN.exceptionHandler)throw new $.terminal.Exception(tv().defunctTerminal);try{return er.apply(t_,[].slice.apply(arguments))}catch(er){if("exec"!==en&&"resume"!==en&&eC(er,er.type||"TERMINAL",!0),!tN.exceptionHandler)throw er}}});if($.extend(t_,tF),0===t_.length){var tE=sprintf(tv().invalidSelector);throw new $.terminal.Exception(tE)}t_.data("terminal",t_);var tx=[],tw=!1,tk=0,tA=terminals.length(),tB=!1,tT=new Stack,tS=new DelayQueue,tR=!1,tO=!1,tj=new DelayQueue,tL=tg(tj),tI=tg(tS),tz=!1,tP=$.noop,t$=[],tN=$.extend({},$.terminal.defaults,{name:t_.selector,exit:!!(er&&er.login||!er)},er||{});"number"==typeof tN.width&&t_.width(tN.width),"number"==typeof tN.height&&t_.height(tN.height),delete tN.formatters;var tM=!1,tH=new FormatBuffer(function(en){return{linksNoReferrer:tN.linksNoReferrer,linksNoFollow:tN.linksNoFollow,anyLinks:tN.anyLinks,charWidth:t1.width,useCache:tN.useCache,escape:!1,allowedAttributes:en.allowedAttributes||[]}}),tW=new OutputLines(function(){return tN}),tU=new ei(tN.memory),tq=tN.enabled,tK=!1,tJ=!1,tY=!0;!0===tN.ignoreSystemDescribe&&(tN.describe=!1),$(document).bind("ajaxSend.terminal_"+t_.id(),function(en,er){requests.push(er)});var tV=$('<div class="terminal-scroller"/>').appendTo(t_),tG=$('<div class="terminal-wrapper"/>').appendTo(tV);$(broken_image).hide().appendTo(tG);var tX=$('<div class="terminal-font">&nbsp;</div>').appendTo(t_),tZ=$('<div class="terminal-pixel"/>').appendTo(t_),tQ=$('<div class="terminal-fill"/>').appendTo(tV);eP=$("<div>").addClass("terminal-output").attr("role","log").appendTo(tG),t_.addClass("terminal");var t0=t7(),t1=get_char_size(t_),t2=!terminal_ready(t_);if(tN.login&&!1===e7("onBeforeLogin")&&(tY=!1),"string"==typeof en)eX=en;else if(is_array(en)){for(var t3=0,t8=en.length;t3<t8;++t3)if("string"==typeof en[t3]){eX=en[t3];break}}function t6(){eY&&(t_.focus(),t_.scroll_to_bottom())}function t7(){return tZ[0].getBoundingClientRect().width||1}function t9(){eY=tq,t_.disable().find(".cmd textarea").trigger("blur",[!0])}function t4(en){if(is_function(en)&&(en=en()),en&&is_function(en.then))return en.then(t4);if("string"!==get_type(en)){if(is_function(tN.parseObject)){var er=tN.parseObject(en);"string"===get_type(er)&&(en=er)}else en=is_array(en)?$.terminal.columns(en,t_.cols(),tN.tabs):String(en)}return en}function t5(en){if(en.proxy)return en;var er=function(er){return en.call(t_,er,t_)};return er.proxy=!0,er}function nn(en){function er(en,er){return -1!==en.type.indexOf(er)}function ei(en){t_.echo('<img src="'+en+'"/>',{raw:!0})}function eo(en){return(window.URL||window.webkitURL).createObjectURL(en)}function eu(en,er){if(er)en instanceof Blob?ei(eo(en)):"string"==typeof en&&(en.match(/^(data:|blob:)/)?ei(en):t_.insert(en));else{var ea={target:t_};"string"==typeof en?ea.text=en:en instanceof Blob&&(ea.image=eo(en));var es=e7("onPaste",[ea]);if(es){if(is_function(es.then||es.done))return(es.then||es.done).call(es,function(en){eu(en,!0)});eu(es,!0)}else!1!==es&&eu(ea.image||ea.text,!0)}}if((en=en.originalEvent).clipboardData&&t_.enabled()){var ea=en.clipboardData.items;if(ea)for(var es=0;es<ea.length;es++)er(ea[es],"image")&&tN.pasteImage?eu(ea[es].getAsFile()):er(ea[es],"text/plain")&&ea[es].getAsString(function(en){eu(en.replace(/\r/g,""))});else en.clipboardData.getData&&eu(en.clipboardData.getData("text/plain").replace(/\r/g,""));return!1}}is_function(tN.login)?eZ=tN.login:eX&&("string"==typeof tN.login||!0===tN.login)&&(eZ=ey(eX,tN.login)),terminals.append(t_),$(document).on("paste.terminal_"+t_.id(),nn);var nr=$.extend({},tu,$.omap(tN.keymap||{},function(en,er){return tu[en]?function(ei,eo){return er.call(t_,ei,function(){return tu[en](ei,eo)})}:er.bind(t_)}));return ev(en,tN.login,function(en){(tN.completion&&"boolean"!=typeof tN.completion||!tN.completion)&&(en.completion="settings");var er,ei=tN.prompt;function eo(en){!is_mobile&&(en=en.originalEvent)&&!$(document.elementFromPoint(en.clientX,en.clientY)).closest(".terminal").length&&t_.enabled()&&t_.disable()}is_function(ei)&&(ei=t5(ei)),eK=new Stack($.extend({},tN.extra,{name:tN.name,prompt:ei,keypress:tN.keypress,keydown:tN.keydown,resize:tN.onResize,greetings:tN.greetings,mousewheel:tN.mousewheel,history:tN.history,keymap:nr},en)),eJ=$("<div/>").appendTo(tG).cmd({tabindex:tN.tabindex,mobileDelete:tN.mobileDelete,mobileIngoreAutoSpace:tN.mobileIngoreAutoSpace,prompt:!eZ&&ei,history:tN.memory?"memory":tN.history,historyFilter:tN.historyFilter,historySize:tN.historySize,caseSensitiveSearch:tN.caseSensitiveSearch,onPaste:tN.onPaste,width:"100%",enabled:!1,charWidth:t1.width,keydown:ta,keymap:nr,clickTimeout:tN.clickTimeout,holdTimeout:tN.holdTimeout,holdRepeatTimeout:tN.holdRepeatTimeout,repeatTimeoutKeys:tN.repeatTimeoutKeys,allowedAttributes:tN.allowedAttributes,keypress:ts,tabs:tN.tabs,onPositionChange:function(){var en=[].slice.call(arguments);e4(),e7("onPositionChange",en)},onCommandChange:function(en){eU!==tQ.width()&&t_.resizer(),e7("onCommandChange",[en]),e4()},commands:e1}),t_.oneTime(100,function(){$(document).bind("click.terminal_"+t_.id(),eo).bind("contextmenu.terminal_"+t_.id(),eo)});var eu=$(window);function ea(){t1.width!==(t1=get_char_size(t_)).width&&eJ.option("charWidth",t1.width).refresh()}function es(){if(t_.is(":visible")){var en=tV.width(),er=tQ.height(),ei=t7();css(t_[0],{"--pixel-density":ei}),!t2||(t2=!terminal_ready(t_))||(t1=get_char_size(t_),ea()),(eq!==er||eU!==en||t0!==ei)&&t_.resize(),eq=er,eU=en,t0=ei}}function el(){var en={prefix:"terminal-"};t_.resizer("unbind").resizer(es,en),tX.resizer("unbind").resizer(function(){ea(),t_.resize()},en),tZ.resizer("unbind").resizer(function(){t0=t7(),t_.resize()},en)}function ec(en){eH=1===en[0].intersectionRatio}function ef(){eV&&(eV.unobserve?eV.unobserve(t_[0]):clearInterval(eV));var en=t_.enabled(),er=t_.is(":visible");function ei(){t_.is(":visible")&&!er?(er=!0,el(),ea(),es(),en&&t_.enable(),tG.css("visibility","")):er&&!t_.is(":visible")&&(er=!1,en=$.terminal.active()===t_&&t_.enabled(),t_.disable(),tG.css("visibility","hidden"))}en&&!er&&t_.disable(),er?el():tG.css("visibility","hidden"),window.IntersectionObserver&&"fixed"!==t_.css("position")?(eV=new IntersectionObserver(ei,{root:null})).observe(t_[0]):eV=setInterval(ei,100)}document.addEventListener("resume",function(){t_.disable()}),is_mobile?function(){t_.addClass("terminal-mobile");var en,er,ei,eo,eu=3,ea=eJ.clip(),es=200;ea.$node.off("touchstart.cmd"),t_.on("touchstart.terminal",function(er){if(er=er.originalEvent,window.touch_event=er,"a"!==er.target.tagName.toLowerCase()&&!tK&&1===er.touches.length){ei=t_.enabled();var eu=er.touches[0];en={x:eu.clientX,y:eu.clientY},eo=setTimeout(function(){en=null},es)}}).on("touchmove.terminal",function(ei){if(1===ei.touches.length&&en){var eo=ei.touches[0],ea=Math.abs(eo.clientX-en.x),es=Math.abs(eo.clientY-en.y);(ea>eu||es>eu)&&(er=!0)}}).on("touchend.terminal",function(){en&&(clearTimeout(eo),er||(ei?(ea.blur(),t_.disable()):(ea.focus(),t_.focus()))),er=!1,en=null})}():(eu.on("focus.terminal_"+t_.id(),t6).on("blur.terminal_"+t_.id(),t9),function(){var en,ei=0,eo="click_"+t_.id(),eu=t_.find(".cmd textarea");function ea(){if(en.is(".terminal")||en.is(".terminal-scroller")||en.is(".terminal-wrapper")){var er=t_.get_command().length;t_.set_position(er)}else en.closest(".cmd-prompt").length&&t_.set_position(0);eu.is(":focus")||eu.focus(),es()}function es(){ei=0,en=null}var el=".terminal-output textarea,.terminal-output input";t_.mousedown(function(er){scrollbar_event(er,tQ,t0)||(en=$(er.target))}).mouseup(function(){if(er){er=!1;return}if(en&&en.closest(el).length)tq&&t_.disable();else if(""===get_selected_html()&&en){if(1==++ei){if(!tK){if(tq){var eu=tN.clickTimeout;t_.oneTime(eu,eo,ea);return}t_.focus(),t_.scroll_to_bottom()}}else t_.stopTime(eo)}es()}).dblclick(function(){es(),t_.stopTime(eo)})}(),function(){var en,ei=eJ.clip().$node;function eo(en){return"mousedown"===en.type&&2===en.buttons||"contextmenu"===en.type}en="oncontextmenu"in window?"contextmenu.terminal":"mousedown.terminal",t_.on(en,function(en){if((er=""===get_selected_html()&&eo(en)&&!en.ctrlKey)&&!$(en.target).is("img,value,audio,object,canvas,a")){t_.enabled()||t_.enable();var eu=eJ.offset(),ea=eJ[0].getBoundingClientRect(),es=t_.offset().top-eu.top,el=Math.max(en.pageY-eu.top-20,es),ec=en.pageX-eu.left-20,ef=56,ep=70,eD=t_[0].getBoundingClientRect(),em=tQ.outerWidth()*t0,ed=el+ea.top+ef;ed=ed-eD.height-eD.top;var eh=ec+ea.left+ep;eh=eh-em-eD.left,ed>0&&(ef-=Math.ceil(ed)),eh>0&&(ep-=Math.ceil(eh)),ei.attr("style",[style_prop("left",ec,!0),style_prop("top",el,!0),style_prop("width",ep,!0),style_prop("height",ef,!0)].join(";")),ei.is(":focus")||ei.focus(),t_.stopTime("textarea"),t_.oneTime(100,"textarea",function(){var en={left:"",top:"",width:"",height:""};if(!is_css_variables_supported){var er=t_.find(".cmd .cmd-cursor-line").prevUntil(".cmd-prompt").length;en.top=14*er+"px"}ei.css(en)}),t_.stopTime("selection"),t_.everyTime(20,"selection",function(){ei[0].selection!==ei[0].value&&get_textarea_selection(ei[0])&&(clear_textarea_selection(ei[0]),select(t_.find(".terminal-output")[0],t_.find(".cmd div:last-of-type")[0]),t_.stopTime("selection"))})}})}(),t_.on("scroll",function(){var en=t_.find("textarea"),er=t_[0].getBoundingClientRect(),ei=t_[0].scrollHeight,eo=tV.scrollTop(),eu=ei-(eo+er.height);0===eu?en.css("top",""):en.css("top",-eu)})),t_.on("click","a",function(en){var er=$(this);if(er.closest(".terminal-exception").length){var ei=er.attr("href");ei.match(/:[0-9]+$/)&&(en.preventDefault(),ep(ei,t_.cols()))}tq&&t_.find(".cmd textarea").focus()}),es(),function(){if(window.IntersectionObserver){var en=$('<div class="terminal-scroll-marker"/>').appendTo(tV),er=en;-1!==tN.scrollBottomOffset&&(er=$('<div style="'+style_prop("height",tN.scrollBottomOffset)+'"/>').appendTo(en)),(eW=new IntersectionObserver(ec,{root:tV[0],rootMargin:"0px",threshold:1})).observe(er[0])}}(),t_.is(":visible")&&el();var eD=!!t_.closest("body").length,em=window.MutationObserver||window.WebKitMutationObserver;function ed(en,er){var ei=terminals.get()[en[0]],eo=$.Deferred();if(ei&&tA===ei.id())return en[2]?tJ?(e0.push(function(){return ei.exec(en[2],er).done(function(){ei.save_state(en[2],!0,en[1]),eo.resolve()})}),eo.promise()):ei.exec(en[2],er).done(function(){ei.save_state(en[2],!0,en[1])}):(eo.resolve(),eo.promise())}em&&(eG=new em(function(){t_.closest("body").length?(eD||(t_.scroll_to_bottom(),ef(),es()),eD=!0):eD&&(eD=!1)})).observe(document.body,{childList:!0}),eD&&ef(),tS.resolve(),tq&&t_.is(":visible")&&!is_mobile?t_.focus(undefined,!0):t_.disable(),is_function(eZ)?t_.login(eZ,!0,tr):tr(),tN.execHash&&location.hash?setTimeout(function(){try{var en=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(en)),en.match(/\[/)||e5(hash_commands);var er=0,ei={typing:tN.execAnimation,delay:tN.execAnimationDelay};!function en(){var eo=hash_commands[er++];eo?ed(eo,ei).done(en):change_hash=!0}()}catch(en){}}):change_hash=!0,function(){var en=!1;function er(er,ei){if(!en){var eo,eu=eK.top();if(is_function(eu.mousewheel)?eo=eu.mousewheel(er,ei,t_):is_function(tN.mousewheel)&&(eo=tN.mousewheel(er,ei,t_)),!0!==eo){if((eT()||!1===eo)&&!er.ctrlKey&&(er.stopPropagation(),er.preventDefault()),!1===eo)return!1;ei>0?t_.scroll(-40):t_.scroll(40)}}}if($(document).bind("keydown.terminal_"+t_.id(),function(er){er.shiftKey&&(en=!0)}).bind("keyup.terminal_"+t_.id(),function(er){(er.shiftKey||16===er.which)&&(en=!1)}),$.event.special.mousewheel)tV.on("mousewheel",er);else{var ei,eo=document.createElement("div");ei="onwheel"in eo?"wheel":undefined!==document.onmousewheel?"mousewheel":"DOMMouseScroll",eo=null,t_.on(ei,function(en){var eo;eo="mousewheel"===ei?-1/40*en.originalEvent.wheelDelta:en.originalEvent.deltaY||en.originalEvent.detail,er(en,-eo)})}tV.touch_scroll(function(en){var er,ei=en.current.clientY-en.previous.clientY,eo=eK.top();if(is_function(eo.touchscroll)?er=eo.touchscroll(en,ei,t_):is_function(tN.touchscroll)&&(er=tN.touchscroll(en,ei,t_)),css(t_[0],{"--terminal-scroll":t_.prop("scrollTop")}),!0!==er)return!1})}()}),t_}})}}]);